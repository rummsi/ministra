{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/spa-app/lib/core.js","webpack:///./node_modules/mag-app/index.js","webpack:///./node_modules/cjs-emitter/index.js","webpack:///./node_modules/stb-app/lib/css.js","webpack:///./node_modules/stb-component-page/index.js","webpack:///./src/js/modules/vars.js","webpack:///./src/js/main.js","webpack:///./node_modules/mag-app/lib/main.js","webpack:///./node_modules/cjs-query/index.js","webpack:///./src/js/config.js","webpack:///./node_modules/spa-app/lib/events.js","webpack:///./node_modules/stb-shim-classlist/index.js","webpack:///./node_modules/stb-app/lib/metrics.js","webpack:///./src/js/metrics.js","webpack:///./node_modules/mag-app/lib/css.js","webpack:///./src/js/pages/init.js","webpack:///./node_modules/spa-component-page/index.js","webpack:///./node_modules/spa-component/index.js","webpack:///./src/js/pages/main.js","webpack:///./node_modules/stb-keys/index.js","webpack:///./node_modules/spa-keys/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Emitter","parse","app","query","document","location","search","substring","config","activePage","route","pageTo","data","page","pageFrom","active","id","$node","classList","remove","events","emit","add","showPage","this","from","to","addListener","callback","push","once","self","onceWrapper","removeListener","apply","arguments","addListeners","callbacks","filter","fn","length","undefined","index","event","Array","slice","constructor","link","createElement","rel","href","metrics","height","head","appendChild","keysBlock","gs","account","layers","bg","context","pointer","size","480","scr","w","h","cll","576","720","1080","cells","x","y","position","old","current","move","selected","readyToCheck","start","finish","coeff","balls","colors","nextBalls","pages","init","main","ready","window","_","txt","core","parent","getCoreInstance","platform","exit","load","body","setAttribute","type","contextmenu","preventDefault","keys","forEach","addEventListener","split","part","decodeURIComponent","stringify","params","encodeURIComponent","join","DOMContentLoaded","unload","error","keydown","activeComponent","eventLocal","code","keyCode","stop","ctrlKey","altKey","shiftKey","propagate","keypress","mousewheel","documentElement","indexOf","splice","DOMTokenList","el","_element","className","_classCache","classes","replace","token","contains","item","toString","toggle","Element","screenHeight","screen","availHeight","availTop","availBottom","availWidth","width","availLeft","availRight","linkCSS","theme","path","getElementById","Component","Page","parentNode","counter","visible","focusable","$body","children","hide","defaultEvents","eventName","focus","stopPropagation","child","blur","removeChild","activeItem","show","setTimeout","WINDOW_HEIGHT","PATH_IMG_PUBLIC","getContext","drawImage","style","moveTo","j","cvDraw","generateNextBalls","showBall","random","max","Math","floor","parseInt","sizeScr","ball","bgImg_1","bgImg_2","stopAddBalls","isEndGame","marginLeft","marginTop","createBall","n_color","n_x","n_y","Image","clolor","src","coords","findeFreePlace","color","scale","img","siObj","_f","globalCompositeOperation","clearInterval","setInterval","showfinish","display","checkLines","jumpBallTimer","jumpBallScale","jumpBallScaleD","jumpBall","v","jumpBallStartJumping","clearRect","e","jumpBallStop","ballMoveStart","PressOK","checkWay","arr","currentNum","way","findPath","drawWay","showArr","str","line","k","setNums","getWay","num","getMinFrom","tmp","tmp_obj","minValue","minIndex","obj","getMinAtThe","curNum","unshift","shift","setballs","isLineClear","lines","del","new_line","start_x","oo","start_y","lis","getElementsByTagName","innerHTML","substr","li","backgroundImage","right","left","down","up","ok","f2","f1","record","refresh","back","notify","title","icon","buttons","click","timeout","backspace","channelNext","tab","channelPrev","enter","escape","volumeUp","volumeDown","f3","f4","frame","phone","set","tv","menu","rewind","forward","audio","standby","keyboard","usbMounted","usbUnmounted","playPause","play","pause","power","info","mute","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","space","pageUp","pageDown","end","home","insert"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Emitter = require('cjs-emitter'),\n    parse   = require('cjs-query').parse,\n    app     = new Emitter();\n\n\n/**\n * Make the given inactive/hidden page active/visible.\n * Pass some data to the page and trigger the corresponding event.\n *\n * @param {Page} page item to show\n * @param {*} [data] data to send to page\n *\n * @return {boolean} operation status\n */\nfunction showPage ( page, data ) {\n    // page available and can be hidden\n    if ( page && !page.active ) {\n        // apply visibility\n        page.$node.classList.add('active');\n        page.active = true;\n        app.activePage = page;\n\n        debug.info('show component ' + page.name + '#' + page.id, null, {\n            tags: ['show', 'component', page.name, page.id]\n        });\n        //console.log('component ' + page.name + '.' + page.id + ' show', 'green');\n\n        // there are some listeners\n        if ( page.events['show'] ) {\n            // notify listeners\n            page.emit('show', {data: data});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n}\n\n\n/**\n * Make the given active/visible page inactive/hidden and trigger the corresponding event.\n *\n * @param {Page} page item to hide\n *\n * @return {boolean} operation status\n */\nfunction hidePage ( page ) {\n    // page available and can be hidden\n    if ( page && page.active ) {\n        // apply visibility\n        page.$node.classList.remove('active');\n        page.active  = false;\n        app.activePage = null;\n\n        debug.info('hide component ' + page.name + '#' + page.id, null, {\n            tags: ['hide', 'component', page.name, page.id]\n        });\n        //console.log('component ' + page.name + '.' + page.id + ' hide', 'grey');\n\n        // there are some listeners\n        if ( page.events['hide'] ) {\n            // notify listeners\n            page.emit('hide');\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n}\n\n\n// url request params\napp.query = parse(document.location.search.substring(1));\n\n\n// global application configuration\n// in config.js file in js root\napp.config = require('app:config');\n\n\n// the only visible page\napp.activePage = null;\n\n\n/**\n * Browse to a given page.\n * Do nothing if the link is invalid. Otherwise hide the current, show new and update the \"previous\" link.\n *\n * @param {Page} pageTo instance of the page to show\n * @param {*} [data] options to pass to the page on show\n *\n * @return {boolean} operation status\n */\napp.route = function ( pageTo, data ) {\n    var pageFrom = app.activePage;\n\n    if ( DEVELOP ) {\n        //if ( router.pages.length > 0 ) {\n        if ( !pageTo || typeof pageTo !== 'object' ) {\n            throw new Error(__filename + ': wrong pageTo type');\n        }\n        if ( !('active' in pageTo) ) {\n            throw new Error(__filename + ': missing field \"active\" in pageTo');\n        }\n        //}\n    }\n\n    // valid not already active page\n    if ( pageTo && !pageTo.active ) {\n        //debug.log('router.navigate: ' + pageTo.id, pageTo === pageFrom ? 'grey' : 'green');\n        debug.info('app route: ' + pageTo.name + '#' + pageTo.id, null, {tags: ['route', pageTo.name, pageTo.id]});\n\n        // update url\n        //location.hash = this.stringify(name, data);\n\n        // apply visibility\n        hidePage(app.activePage);\n        showPage(pageTo, data);\n\n        // there are some listeners\n        if ( this.events['route'] ) {\n            // notify listeners\n            this.emit('route', {from: pageFrom, to: pageTo});\n        }\n\n        // store\n        //this.history.push(pageTo);\n\n        return true;\n    }\n\n    //debug.warn('invalid page to route: ' + pageTo.id, null, {tags: ['route', 'page', pageTo.id]});\n    console.warn('invalid page to route: ' + pageTo.id);\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar app = require('./lib/main');\n\n\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Base Events Emitter implementation.\n *\n * @see http://nodejs.org/api/events.html\n * @constructor\n *\n * @example\n * var emitter = new Emitter();\n */\nfunction Emitter () {\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    // if ( DEVELOP ) {\n    //     if ( typeof this !== 'object' ) { throw new Error(__filename + ': must be constructed via new'); }\n    // }\n\n    /**\n     * Inner hash table for event names and linked callbacks.\n     * Manual editing should be avoided.\n     *\n     * @member {Object.<string, function[]>}\n     *\n     * @example\n     * {\n     *     click: [\n     *         function click1 () { ... },\n     *         function click2 () { ... }\n     *     ],\n     *     keydown: [\n     *         function () { ... }\n     *     ]\n     * }\n     **/\n    this.events = {};\n}\n\n\nEmitter.prototype = {\n    /**\n     * Bind an event to the given callback function.\n     * The same callback function can be added multiple times for the same event name.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.addListener('click', function ( data ) { ... });\n     * // one more click handler\n     * emitter.addListener('click', function ( data ) { ... });\n     */\n    addListener: function ( name, callback ) {\n        console.assert(arguments.length === 2, 'wrong arguments number');\n        console.assert(typeof name === 'string', 'wrong name type');\n        console.assert(name.length > 0, 'empty name');\n        console.assert(typeof callback === 'function', 'callback should be a function');\n\n        // if ( DEVELOP ) {\n        //     if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n        //     if ( typeof name !== 'string' || name.length === 0 ) { throw new Error(__filename + ': wrong or empty name'); }\n        //     if ( typeof callback !== 'function' ) { throw new Error(__filename + ': wrong callback type'); }\n        // }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(callback);\n    },\n\n\n    /**\n     * Add a one time listener for the event.\n     * This listener is invoked only the next time the event is fired, after which it is removed.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.once('click', function ( data ) { ... });\n     */\n    once: function ( name, callback ) {\n        // current execution context\n        var self = this;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n        }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(function onceWrapper () {\n            self.removeListener(name, onceWrapper);\n            callback.apply(self, arguments);\n        });\n    },\n\n\n    /**\n     * Apply multiple listeners at once.\n     *\n     * @param {Object} callbacks event names with callbacks\n     *\n     * @example\n     * emitter.addListeners({\n     *     click: function ( data ) {},\n     *     close: function ( data ) {}\n     * });\n     */\n    addListeners: function ( callbacks ) {\n        var name;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof callbacks !== 'object' ) {\n                throw new Error(__filename + ': wrong callbacks type');\n            }\n            if ( Object.keys(callbacks).length === 0 ) {\n                throw new Error(__filename + ': no callbacks given');\n            }\n        }\n\n        for ( name in callbacks ) {\n            if ( callbacks.hasOwnProperty(name) ) {\n                this.addListener(name, callbacks[name]);\n            }\n        }\n    },\n\n\n    /**\n     * Remove all instances of the given callback.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to remove\n     *\n     * @example\n     * emitter.removeListener('click', func1);\n     */\n    removeListener: function ( name, callback ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n            if ( this.events[name] && !Array.isArray(this.events[name]) ) {\n                throw new Error(__filename + ': corrupted inner data');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( this.events[name] ) {\n            // rework the callback list to exclude the given one\n            this.events[name] = this.events[name].filter(function callbacksFilter ( fn ) { return fn !== callback; });\n            // event has no more callbacks so clean it\n            if ( this.events[name].length === 0 ) {\n                // as if there were no listeners at all\n                this.events[name] = undefined;\n            }\n        }\n    },\n\n\n    /**\n     * Remove all callbacks for the given event name.\n     * Without event name clears all events.\n     *\n     * @param {string} [name] event identifier\n     *\n     * @example\n     * emitter.removeAllListeners('click');\n     * emitter.removeAllListeners();\n     *\n     * @deprecated\n     */\n    /*removeAllListeners: function ( name ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 0 && (typeof name !== 'string' || name.length === 0) ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // check input\n        if ( arguments.length === 0 ) {\n            // no arguments so remove everything\n            this.events = {};\n        } else if ( name ) {\n            if ( DEVELOP ) {\n                if ( this.events[name] ) { throw new Error(__filename + ': event is not removed'); }\n            }\n\n            // only name is given so remove all callbacks for the given event\n            // but object structure modification should be avoided\n            this.events[name] = undefined;\n        }\n    },*/\n\n\n    /**\n     * Execute each of the listeners in the given order with the supplied arguments.\n     *\n     * @param {string} name event identifier\n     *\n     * @example\n     * emitter.emit('init');\n     * emitter.emit('click', {src: panel1, dst: panel2});\n     * emitter.emit('load', error, data);\n     *\n     * // it's a good idea to emit event only when there are some listeners\n     * if ( this.events['click'] ) {\n     *     this.emit('click', {event: event});\n     * }\n     */\n    emit: function ( name ) {\n        var event = this.events[name],\n            index;\n\n        if ( DEVELOP ) {\n            if ( arguments.length < 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( event ) {\n            if ( DEVELOP ) {\n                if ( !Array.isArray(event) ) {\n                    throw new Error(__filename + ': wrong event type');\n                }\n            }\n\n            for ( index = 0; index < event.length; index++ ) {\n                if ( DEVELOP ) {\n                    if ( typeof event[index] !== 'function' ) {\n                        throw new Error(__filename + ': wrong event callback type');\n                    }\n                }\n\n                // invoke the callback with parameters\n                event[index].apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n        }\n    }\n};\n\n\n// correct constructor name\nEmitter.prototype.constructor = Emitter;\n\n\n// public\nmodule.exports = Emitter;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('spa-app/lib/core');\n//    metrics = require('app:metrics'),\n//    linkCSS;\n\n\n// global link\n//app.metrics = metrics[app.query.screenHeight] || metrics[screen.height] || metrics[720];\n\n// calculate and extend\n//app.metrics.availHeight = app.metrics.height - (app.metrics.availTop  + app.metrics.availBottom);\n//app.metrics.availWidth  = app.metrics.width  - (app.metrics.availLeft + app.metrics.availRight);\n\n// // set max browser window size\n// window.moveTo(0, 0);\n// window.resizeTo(metrics.width, metrics.height);\n\n// load CSS file base on resolution\n/*linkCSS = document.createElement('link');\nlinkCSS.rel  = 'stylesheet';\nlinkCSS.href = 'css/' + (DEVELOP ? 'develop.' : 'release.') + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\ndocument.head.appendChild(linkCSS);*/\n\n\n// public\nmodule.exports = function ( name ) {\n    var link = document.createElement('link');\n\n    link.rel  = 'stylesheet';\n    link.href = 'css/' + name + '.' + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\n    document.head.appendChild(link);\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-page');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-page';\n","/**\n *\n *@author Aleynikov Boris <alynikov.boris@gmail.com>.\n */\n'use strict';\n/*eslint-disable */\nmodule.exports = {\n\tkeysBlock : false,\n\tgs : {\n\t\t\"account\": 0,\n\t\t\"layers\": {\n\t\t\t\"bg\": null,\n\t\t\t\"context\": null,\n\t\t\t\"pointer\": null\n\t\t},\n\t\t//\"actualSize\": 576,\n\t\t\"size\": {\n\t\t\t\"480\": {\n\t\t\t\t\"scr\": {\n\t\t\t\t\t\"w\": 360,\n\t\t\t\t\t\"h\": 360\n\t\t\t\t},\n\t\t\t\t\"cll\": {\n\t\t\t\t\t\"w\": 40,\n\t\t\t\t\t\"h\": 40\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"576\": {\n\t\t\t\t\"scr\": {\n\t\t\t\t\t\"w\": 450,\n\t\t\t\t\t\"h\": 450\n\t\t\t\t},\n\t\t\t\t\"cll\": {\n\t\t\t\t\t\"w\": 50,\n\t\t\t\t\t\"h\": 50\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"720\": {\n\t\t\t\t\"scr\": {\n\t\t\t\t\t\"w\": 495,\n\t\t\t\t\t\"h\": 495\n\t\t\t\t},\n\t\t\t\t\"cll\": {\n\t\t\t\t\t\"w\": 55,\n\t\t\t\t\t\"h\": 55\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"1080\": {\n\t\t\t\t\"scr\": {\n\t\t\t\t\t\"w\": 765,\n\t\t\t\t\t\"h\": 765\n\t\t\t\t},\n\t\t\t\t\"cll\": {\n\t\t\t\t\t\"w\": 85,\n\t\t\t\t\t\"h\": 85\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"cells\": {\n\t\t\t\"x\": 9,\n\t\t\t\"y\": 9\n\t\t},\n\t\t\"position\": {\n\t\t\t\"old\": {\n\t\t\t\t\"x\": 0,\n\t\t\t\t\"y\": 0\n\t\t\t},\n\t\t\t\"current\": {\n\t\t\t\t\"x\": 0,\n\t\t\t\t\"y\": 0\n\t\t\t}\n\t\t},\n\t\t\"move\": {\n\t\t\t\"selected\": false,\n\t\t\t\"readyToCheck\": false,\n\t\t\t\"start\": {\n\t\t\t\t\"x\": -1,\n\t\t\t\t\"y\": -1\n\t\t\t},\n\t\t\t\"finish\": {\n\t\t\t\t\"x\": -1,\n\t\t\t\t\"y\": -1\n\t\t\t}\n\t\t},\n\t\t\"coeff\": 1,\n\t\t\"balls\": null,\n\t\t\"colors\": ['red', 'blue', 'green', 'orange', 'violet', 'black', 'white'],\n\t\t\"nextBalls\": []\n\t}\n};\n","/**\n * Main application entry point.\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\nvar app = require('mag-app');\n\n// everything is ready\napp.once('load', function () {\n    // load pages\n    app.pages = {\n        init: require('./pages/init'),\n        main: require('./pages/main')\n    };\n\n    app.ready();\n    app.route(app.pages.main);\n    window._ = function ( txt ) { return txt; };\n});\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app    = require('spa-app/lib/core'),\n    events = require('spa-app/lib/events');\n\n\n// get instance\nwindow.core = window.parent.getCoreInstance(window, app);\n\n// shims\nrequire('stb-shim-classlist');\n\n// apply geometry\nrequire('stb-app/lib/metrics');\n\n// load sdk css\nrequire('stb-app/lib/css')('sdk');\n\n// load theme css\nrequire('./css');\n\n// load app css\nrequire('stb-app/lib/css')('app');\n\n/**\n * Specify platform name\n *\n * @type {string}\n */\napp.platform = 'mag';\n\n/**\n * Show app.\n */\napp.ready = function () {\n    // if ( this.events['show'] ) {\n    //     this.emit('show');\n    // }\n    window.core.call('app:ready');\n};\n\n\n/**\n * Exit from app.\n * Destroy all application instance.\n * If callback function provided, and callback returns boolean 'true', application will stay alive.\n *\n * @fires module:/stb/app#exit\n */\napp.exit = function () {\n    if ( app.events['exit'] ) {\n        app.emit('exit');\n    }\n\n    core.call('exit');\n};\n\n\nevents.load = function ( event ) {\n    //window.core = window.parent.getCoreInstanse(window, app);\n    document.body.setAttribute('platform', app.platform);\n\n    if ( core.ready ) {\n        if ( app.events['load'] ) {\n            // notify listeners\n            app.emit('load', {});\n        }\n    } else {\n        core.once('load', function () {\n            //core.ready = true;\n            if ( app.events[event.type] ) {\n                // notify listeners\n                app.emit(event.type, event);\n            }\n        });\n    }\n};\n\n\n// activate development mechanisms and tools\nif ( DEVELOP ) {\n    //require('stb-develop');\n    require('./develop/main');\n} else {\n    // disable context menu\n    events.contextmenu = function ( event ) {\n        event.preventDefault();\n    };\n}\n\n\n//apply DOM events\nObject.keys(events).forEach(function ( name ) {\n    window.addEventListener(name, events[name]);\n});\n\n\n// new way of string handling\n// all strings are in UTF-16\n// since stbapp 2.18\n// if ( window.gSTB && gSTB.SetNativeStringMode ) {\n//     /* eslint new-cap: 0 */\n//     gSTB.SetNativeStringMode(true);\n// }\n\n// public\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nmodule.exports = {\n    /**\n     * Parse the given location search string into object.\n     *\n     * @param {string} query string to parse\n     *\n     * @return {Object.<string, string>} result data\n     */\n    parse: function ( query ) {\n        var data = {};\n\n        // parse and fill the data\n        query.split('&').forEach(function ( part ) {\n            part = part.split('=');\n            // valid number on params\n            if ( part.length === 2 ) {\n                data[part[0]] = decodeURIComponent(part[1]);\n            }\n        });\n\n        return data;\n    },\n\n\n    /**\n     * Make uri query part in a string form.\n     *\n     * @param {Object} params data to stringify\n     *\n     * @return {string} query string\n     */\n    stringify: function ( params ) {\n        var data = [];\n\n        Object.keys(params).forEach(function ( name ) {\n            data.push(name + '=' + encodeURIComponent(params[name]));\n        });\n\n        return data.join('&');\n    }\n};\n","/**\n * Global application configuration.\n * Can store run-time options, API urls, paths, execution flags and so on.\n * Automatically loaded on application initialization and available as app.config.\n */\n\n'use strict';\n\n// public\nmodule.exports = {};\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('./core');\n\n\n// public\nmodule.exports = {\n    DOMContentLoaded: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // there are some listeners\n        if ( app.events['dom'] ) {\n            // notify listeners\n            app.emit('dom', event);\n            //console.log('DOMContentLoaded');\n        }\n    },\n\n    /**\n     * The load event is fired when a resource and its dependent resources have finished loading.\n     *\n     * Control flow:\n     *   1. Global handler.\n     *   2. Each page handler.\n     *   3. Application DONE event.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/load\n     *\n     * @param {Event} event generated object with event data\n     */\n    load: function ( event ) {\n        //var path;\n\n        //debug.event(event);\n        //console.log(event);\n\n        // time mark\n        //app.data.time.load = event.timeStamp;\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // global handler\n        // there are some listeners\n        if ( app.events[event.type] ) {\n            // notify listeners\n            app.emit(event.type, event);\n        }\n\n        // local handler on each page\n        /*router.pages.forEach(function forEachPages ( page ) {\n         debug.log('component ' + page.constructor.name + '.' + page.id + ' load', 'green');\n\n         // there are some listeners\n         if ( page.events[event.type] ) {\n         // notify listeners\n         page.emit(event.type, event);\n         }\n         });*/\n\n        // time mark\n        //app.data.time.done = +new Date();\n\n        // everything is ready\n        // and there are some listeners\n        // if ( app.events['done'] ) {\n        //     // notify listeners\n        //     app.emit('done', event);\n        // }\n    },\n\n    /**\n     * The unload event is fired when the document or a child resource is being unloaded.\n     *\n     * Control flow:\n     *   1. Each page handler.\n     *   2. Global handler.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/unload\n     *\n     * @param {Event} event generated object with event data\n     */\n    unload: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // global handler\n        // there are some listeners\n        if ( app.events[event.type] ) {\n            // notify listeners\n            app.emit(event.type, event);\n        }\n\n        // local handler on each page\n        /*router.pages.forEach(function forEachPages ( page ) {\n         debug.log('component ' + page.constructor.name + '.' + page.id + ' unload', 'red');\n\n         // there are some listeners\n         if ( page.events[event.type] ) {\n         // notify listeners\n         page.emit(event.type, event);\n         }\n         });*/\n    },\n\n    /**\n     * The error event is fired when a resource failed to load.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/error\n     *\n     * @param {Event} event generated object with event data\n     */\n    error: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n        //debug.fail('app event: ' + event.message, event, {tags: [event.type, 'event']});\n        console.error('app event: ' + event.message, event);\n    },\n\n    /**\n     * The keydown event is fired when a key is pressed down.\n     * Set event.stop to true in order to prevent bubbling.\n     *\n     * Control flow:\n     *   1. Current active component on the active page.\n     *   2. Current active page itself.\n     *   3. Application.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/keydown\n     *\n     * @param {Event} event generated object with event data\n     */\n    keydown: function ( event ) {\n        var page = app.activePage,\n            eventLocal = {\n                code: event.keyCode,\n                stop: false\n            },\n            activeComponent;\n\n        if ( DEVELOP ) {\n            if ( !page ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        // filter phantoms\n        //if ( event.keyCode === 0 ) { return; }\n\n        // combined key code\n        //event.code = event.keyCode;\n\n        // apply key modifiers\n        if ( event.ctrlKey )  { eventLocal.code += 'c'; }\n        if ( event.altKey )   { eventLocal.code += 'a'; }\n        if ( event.shiftKey ) { eventLocal.code += 's'; }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type + ' - ' + eventLocal.code, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type + ' - ' + eventLocal.code, event);\n\n        // page.activeComponent can be set to null in event handles\n        activeComponent = page.activeComponent;\n\n        // current component handler\n        if ( activeComponent && activeComponent !== page ) {\n            // component is available and not page itself\n            if ( activeComponent.events[event.type] ) {\n                // there are some listeners\n                activeComponent.emit(event.type, eventLocal, event);\n            }\n\n            // todo: bubble event recursively\n            // bubbling\n            if (\n                !eventLocal.stop &&\n                activeComponent.propagate &&\n                activeComponent.parent &&\n                activeComponent.parent.events[event.type]\n            ) {\n                activeComponent.parent.emit(event.type, eventLocal, event);\n            }\n        }\n\n        // page handler\n        if ( !eventLocal.stop ) {\n            // not prevented\n            if ( page.events[event.type] ) {\n                // there are some listeners\n                page.emit(event.type, eventLocal, event);\n            }\n\n            // global app handler\n            if ( !event.stop ) {\n                // not prevented\n                if ( app.events[event.type] ) {\n                    // there are some listeners\n                    app.emit(event.type, eventLocal, event);\n                }\n            }\n        }\n\n        //// suppress non-printable keys in stb device (not in your browser)\n        //if ( app.data.host && keyCodes[event.code] ) {\n        //    event.preventDefault();\n        //}\n    },\n\n    /**\n     * The keypress event is fired when press a printable character.\n     * Delivers the event only to activeComponent at active page.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/keypress\n     *\n     * @param {Event} event generated object with event data\n     * @param {string} event.char entered character\n     */\n    keypress: function ( event ) {\n        var page = app.activePage;\n\n        if ( DEVELOP ) {\n            if ( page === null || page === undefined ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type + ' - ' + event.key, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type + ' - ' + event.key, event);\n\n        // current component handler\n        if ( page.activeComponent && page.activeComponent !== page ) {\n            // component is available and not page itself\n            if ( page.activeComponent.events[event.type] ) {\n                // there are some listeners\n                page.activeComponent.emit(event.type, event);\n            }\n        }\n    },\n\n    /**\n     * The click event is fired when a pointing device button (usually a mouse button) is pressed and released on a single element.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/click\n     *\n     * @param {Event} event generated object with event data\n     */\n    /*click: function ( event ) {\n     //debug.event(event);\n     //console.log(event);\n     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n     },*/\n\n    /**\n     * The contextmenu event is fired when the right button of the mouse is clicked (before the context menu is displayed),\n     * or when the context menu key is pressed (in which case the context menu is displayed at the bottom left of the focused\n     * element, unless the element is a tree, in which case the context menu is displayed at the bottom left of the current row).\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/contextmenu\n     *\n     * @param {Event} event generated object with event data\n     */\n    // contextmenu: function ( event ) {\n    //     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n    //\n    //     if ( !DEVELOP ) {\n    //         // disable right click in release mode\n    //         event.preventDefault();\n    //     }\n    // },\n\n    /*contextmenu: function ( event ) {\n     //var kbEvent = {}; //Object.create(document.createEvent('KeyboardEvent'));\n\n     //debug.event(event);\n     //console.log(event);\n     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n\n     //kbEvent.type    = 'keydown';\n     //kbEvent.keyCode = 8;\n\n     //debug.log(kbEvent.type);\n\n     //globalEventListenerKeydown(kbEvent);\n     //var event = document.createEvent('KeyboardEvent');\n     //event.initEvent('keydown', true, true);\n\n     //document.dispatchEvent(kbEvent);\n\n     if ( !DEVELOP ) {\n     // disable right click in release mode\n     event.preventDefault();\n     }\n     },*/\n\n    /**\n     * The wheel event is fired when a wheel button of a pointing device (usually a mouse) is rotated.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/wheel\n     *\n     * @param {Event} event generated object with event data\n     */\n    mousewheel: function ( event ) {\n        var page = app.activePage;\n\n        if ( DEVELOP ) {\n            if ( page === null || page === undefined ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // current component handler\n        if ( page.activeComponent && page.activeComponent !== page ) {\n            // component is available and not page itself\n            if ( page.activeComponent.events[event.type] ) {\n                // there are some listeners\n                page.activeComponent.emit(event.type, event);\n            }\n        }\n\n        // page handler\n        if ( !event.stop ) {\n            // not prevented\n            if ( page.events[event.type] ) {\n                // there are some listeners\n                page.emit(event.type, event);\n            }\n        }\n    }\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint-disable */\n\n'use strict';\n\n\nif ( !document.documentElement.classList ) {\n    var prototype = Array.prototype,\n        indexOf   = prototype.indexOf,\n        slice     = prototype.slice,\n        push      = prototype.push,\n        splice    = prototype.splice,\n        join      = prototype.join;\n\n    window.DOMTokenList = function ( el ) {\n        this._element = el;\n        if (el.className !== this._classCache) {\n            this._classCache = el.className;\n            if (!this._classCache) { return; }\n            var classes = this._classCache.replace(/^\\s+|\\s+$/g,'').split(/\\s+/),\n                i;\n            for (i = 0; i < classes.length; i++) {\n                push.call(this, classes[i]);\n            }\n        }\n    };\n\n    window.DOMTokenList.prototype = {\n        add: function ( token ) {\n            if(this.contains(token)) { return; }\n            push.call(this, token);\n            this._element.className = slice.call(this, 0).join(' ');\n        },\n\n        contains: function ( token ) {\n            return indexOf.call(this, token) !== -1;\n        },\n\n        item: function ( index ) {\n            return this[index] || null;\n        },\n\n        remove: function ( token ) {\n            var i = indexOf.call(this, token);\n            if (i === -1) {\n                return;\n            }\n            splice.call(this, i, 1);\n            this._element.className = slice.call(this, 0).join(' ');\n        },\n\n        toString: function () {\n            return join.call(this, ' ');\n        },\n\n        toggle: function ( token ) {\n            if (!this.contains(token)) {\n                this.add(token);\n            } else {\n                this.remove(token);\n            }\n            return this.contains(token);\n        }\n    };\n\n    Object.defineProperty(Element.prototype, 'classList', {\n        get: function () {\n            return new window.DOMTokenList(this);\n        }\n    });\n}\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app     = require('spa-app/lib/core'),\n    metrics = require('app:metrics');\n\n\n// global link\napp.metrics = metrics[app.query.screenHeight] || metrics[screen.height] || metrics[720];\n\n// calculate and extend\napp.metrics.availHeight = app.metrics.height - (app.metrics.availTop  + app.metrics.availBottom);\napp.metrics.availWidth  = app.metrics.width  - (app.metrics.availLeft + app.metrics.availRight);\n\n\n// public\n//module.exports = app;\n","/**\n * Application geometry options.\n * Automatically loaded on application initialization and available as app.metrics.\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n    480: {\n        // screen base dimension\n        height: 480,\n        width:  720,\n        // safe zone margins\n        availTop:    24,\n        availBottom: 24,\n        availRight:  32,\n        availLeft:   48\n        // project-specific vars\n        // put here ...\n    },\n\n    576: {\n        // screen base dimension\n        height: 576,\n        width:  720,\n        // safe zone margins\n        availTop:    24,\n        availBottom: 24,\n        availRight:  26,\n        availLeft:   54\n        // project-specific vars\n        // put here ...\n    },\n\n    720: {\n        // screen base dimension\n        height: 720,\n        width:  1280,\n        // safe zone margins\n        availTop:    30,\n        availBottom: 30,\n        availRight:  40,\n        availLeft:   40\n        // project-specific vars\n        // put here ...\n    },\n\n    1080: {\n        // screen base dimension\n        height: 1080,\n        width:  1920,\n        // safe zone margins\n        availTop:    45,\n        availBottom: 45,\n        availRight:  60,\n        availLeft:   60\n        // project-specific vars\n        // put here ...\n    }\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('spa-app/lib/core'),\n    //metrics = require('app:metrics'),\n    linkCSS;\n\n\n//window.core = window.parent.getCoreInstance(window, app);\n\n\nlinkCSS = document.createElement('link');\nlinkCSS.rel  = 'stylesheet';\nlinkCSS.href = window.core.theme.path + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\ndocument.head.appendChild(linkCSS);\n\n\n// public\nmodule.exports = linkCSS;\n","/**\n * Loading page implementation.\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\nvar id   = 'pageInit',\n    Page = require('stb-component-page'),\n    page = new Page({$node: document.getElementById(id)});\n\n\n// public\nmodule.exports = page;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base page implementation.\n *\n * A full-screen top-level layer that can operate as an independent separate entity.\n * It is added to the document body on creation if not already linked.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n *\n * @example\n * var Page = require('stb/ui/page'),\n *     page = new Page({\n *         $node: document.getElementById(id)\n *     });\n *\n * page.addListener('show', function show () {\n *     // page is visible now\n * });\n */\nfunction Page ( config ) {\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    /**\n     * Page visibility/active state flag.\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.active = false;\n\n    /**\n     * Link to the currently active component with focus.\n     *\n     * @readonly\n     * @type {Component}\n     */\n    this.activeComponent = null;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'page ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // state flag\n    this.active = this.$node.classList.contains('active');\n\n    // correct DOM parent/child connection if necessary\n    if ( this.$node.parentNode === null ) {\n        document.body.appendChild(this.$node);\n    }\n\n    // always itself\n    this.page = this;\n}\n\n\n// inheritance\nPage.prototype = Object.create(Component.prototype);\nPage.prototype.constructor = Page;\n\n// set component name\nPage.prototype.name = 'spa-component-page';\n\n\n// public\nmodule.exports = Page;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app     = require('spa-app/lib/core'),\n    Emitter = require('cjs-emitter'),\n    counter = 0;\n\n\n/**\n * Base component implementation.\n *\n * Visual element that can handle sub-components.\n * Each component has a DOM element container $node with a set of classes:\n * \"component\" and some specific component class names depending on the hierarchy, for example \"page\".\n * Each component has a unique ID given either from $node.id or from data.id. If not given will generate automatically.\n *\n * @constructor\n * @extends Emitter\n *\n * @param {Object} [config={}] init parameters\n * @param {Element} [config.id] component unique identifier (generated if not set)\n * @param {string} [config.className] space-separated list of classes for \"className\" property of this.$node\n * @param {Element} [config.$node] DOM element/fragment to be a component outer container\n * @param {Element} [config.$body] DOM element/fragment to be a component inner container (by default is the same as $node)\n * @param {Component} [config.parent] link to the parent component which has this component as a child\n * @param {Array.<Component>} [config.children=[]] list of components in this component\n * @param {Object.<string, function>} [config.events={}] list of event callbacks\n * @param {boolean} [config.visible=true] component initial visibility state flag\n * @param {boolean} [config.focusable=true] component can accept focus or not\n * @param {boolean} [config.propagate=false] allow to emit events to the parent component\n *\n * @fires module:stb/component~Component#click\n *\n * @example\n * var component = new Component({\n *     $node: document.getElementById(id),\n *     className: 'bootstrap responsive',\n *     events: {\n *         click: function () { ... }\n *     }\n * });\n * component.add( ... );\n * component.focus();\n */\nfunction Component ( config ) {\n    // current execution context\n    var self = this,\n        name;\n\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( config.id && typeof config.id !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.id');\n        }\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.$node && !(config.$node instanceof Element) ) {\n            throw new Error(__filename + ': wrong config.$node type');\n        }\n        if ( config.$body && !(config.$body instanceof Element) ) {\n            throw new Error(__filename + ': wrong config.$body type');\n        }\n        if ( config.parent && !(config.parent instanceof Component) ) {\n            throw new Error(__filename + ': wrong config.parent type');\n        }\n        if ( config.children && !Array.isArray(config.children) ) {\n            throw new Error(__filename + ': wrong config.children type');\n        }\n    }\n\n    /**\n     * Component visibility state flag.\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.visible = true;\n\n    /**\n     * Component can accept focus or not.\n     *\n     * @type {boolean}\n     */\n    this.focusable = true;\n\n    /**\n     * DOM outer handle.\n     *\n     * @type {Element}\n     */\n    this.$node = null;\n\n    /**\n     * DOM inner handle.\n     * In simple cases is the same as $node.\n     *\n     * @type {Element}\n     */\n    this.$body = null;\n\n    /**\n     * Link to the parent component which has this component as a child.\n     *\n     * @type {Component}\n     */\n    this.parent = null;\n\n    /**\n     * List of all children components.\n     *\n     * @type {Component[]}\n     */\n    this.children = [];\n\n    /**\n     * allow to emit events to the parent component\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.propagate = !!config.propagate;\n\n    // parent constructor call\n    Emitter.call(this);\n\n    // outer handle - empty div in case nothing is given\n    this.$node = config.$node || document.createElement('div');\n\n    // inner handle - the same as outer handler in case nothing is given\n    this.$body = config.$body || this.$node;\n\n    // set CSS class names\n    //this.$node.className += ' component ' + (config.className || '');\n    // previous approach is not good as it mess with components hierarchy\n    this.$node.className = this.name + ' ' + (config.className || '');\n\n    // apply component id if given, generate otherwise\n    this.id = config.id || this.$node.id || 'cid' + counter++;\n\n    // apply hierarchy\n    if ( config.parent ) {\n        // add to parent component\n        config.parent.add(this);\n    }\n\n    // apply given visibility\n    if ( config.visible === false ) {\n        // default state is visible\n        this.hide();\n    }\n\n    // apply focus handling method\n    if ( config.focusable === false ) {\n        // can't accept focus\n        this.focusable = false;\n    }\n\n    // a descendant defined own events\n    if ( this.defaultEvents ) {\n        // sanitize\n        config.events = config.events || {};\n\n        if ( DEVELOP ) {\n            if ( typeof config.events !== 'object' ) {\n                throw new Error(__filename + ': wrong config.events type');\n            }\n            if ( typeof this.defaultEvents !== 'object' ) {\n                throw new Error(__filename + ': wrong this.defaultEvents type');\n            }\n        }\n\n        for ( name in this.defaultEvents ) {\n            // overwrite default events with user-defined\n            config.events[name] = config.events[name] || this.defaultEvents[name];\n        }\n    }\n\n    if ( config.events ) {\n        // apply all given events\n        Object.keys(config.events).forEach(function ( eventName ) {\n            self.addListener(eventName, config.events[eventName]);\n        });\n    }\n\n    // apply the given children components\n    if ( config.children ) {\n        // apply\n        this.add.apply(this, config.children);\n    }\n\n    // component activation by mouse\n    this.$node.addEventListener('click', function ( event ) {\n        // left mouse button\n        //if ( event.button === 0 ) {\n        // activate if possible\n        self.focus();\n\n        // there are some listeners\n        if ( self.events['click'] ) {\n            /**\n             * Mouse click event.\n             *\n             * @event module:stb/component~Component#click\n             *\n             * @type {Object}\n             * @property {Event} event click event data\n             */\n            self.emit('click', event);\n        }\n        //}\n\n        if ( DEVELOP ) {\n            // middle mouse button\n            if ( event.button === 1 ) {\n                //debug.inspect(self, 0);\n                debug.info('\"window.link\" or \"' + self.id + '.component\"', 'this component is now available in global scope');\n                window.link = self;\n                self.$node.classList.toggle('wired');\n            }\n        }\n\n        event.stopPropagation();\n    });\n\n    if ( DEVELOP ) {\n        // expose inner ID to global scope\n        window[self.id] = self.$node;\n\n        // expose a link\n        this.$node.component = this.$body.component = this;\n        this.$node.title = this.name + '#' + this.id + ' (outer)';\n        this.$body.title = this.name + '#' + this.id + ' (inner)';\n    }\n\n    debug.info('create component ' + this.name + '#' + this.id, null, {\n        tags: ['create', 'component', this.name, this.id]\n    });\n}\n\n\n// inheritance\nComponent.prototype = Object.create(Emitter.prototype);\nComponent.prototype.constructor = Component;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nComponent.prototype.defaultEvents = null;\n\n\n/**\n * Add a new component as a child.\n *\n * @param {...Component} [child] variable number of elements to append\n *\n * @files Component#add\n *\n * @example\n * panel.add(\n *     new Button( ... ),\n *     new Button( ... )\n * );\n */\nComponent.prototype.add = function ( child ) {\n    var index;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        child = arguments[index];\n\n        if ( DEVELOP ) {\n            if ( !(child instanceof Component) ) {\n                throw new Error(__filename + ': wrong child type');\n            }\n        }\n\n        // apply\n        this.children.push(child);\n        child.parent = this;\n\n        // correct DOM parent/child connection if necessary\n        if ( child.$node && child.$node.parentNode === null ) {\n            this.$body.appendChild(child.$node);\n        }\n\n        debug.info('add component ' + child.name + '#' + child.id + ' to ' + this.name + '#' + this.id, null, {\n            tags: ['add', 'component', this.name, this.id, child.name, child.id]\n        });\n\n        // there are some listeners\n        if ( this.events['add'] ) {\n            /**\n             * A child component is added.\n             *\n             * @event module:stb/component~Component#add\n             *\n             * @type {Object}\n             * @property {Component} item new component added\n             */\n            this.emit('add', {item: child});\n        }\n\n        //debug.log('component ' + this.name + '#' + this.id + ' new child: ' + child.name + '#' + child.id);\n    }\n};\n\n\n/* @todo: consider activation in future */\n///**\n// * Insert component into the specific position.\n// *\n// * @param {Component} child component instance to insert\n// * @param {number} index insertion position\n// */\n//Component.prototype.insert = function ( child, index ) {\n//    var prevIndex = this.children.indexOf(child);\n//\n//    if ( DEVELOP ) {\n//        if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n//        if ( !(child instanceof Component) ) { throw new Error(__filename + ': wrong child type'); }\n//    }\n//\n//    if ( prevIndex !== -1 ) {\n//        this.children.splice(prevIndex, 1);\n//        this.$body.removeChild(child.$node);\n//    }\n//\n//    if ( index === this.children.length ) {\n//        this.$body.appendChild(child.$node);\n//    } else {\n//        this.$body.insertBefore(child.$node, this.$body.children[index]);\n//    }\n//    this.children.splice(index, 0, child);\n//\n//    if ( !child.parent ) {\n//        child.parent = this;\n//    }\n//};\n\n\n/**\n * Delete this component and clear all associated events.\n *\n * @fires module:stb/component~Component#remove\n */\nComponent.prototype.remove = function () {\n    // really inserted somewhere\n    if ( this.parent ) {\n        if ( DEVELOP ) {\n            if ( !(this.parent instanceof Component) ) {\n                throw new Error(__filename + ': wrong this.parent type');\n            }\n        }\n\n        // active at the moment\n        if ( app.activePage.activeComponent === this ) {\n            this.blur();\n            this.parent.focus();\n        }\n        this.parent.children.splice(this.parent.children.indexOf(this), 1);\n    }\n\n    // remove all children\n    this.children.forEach(function ( child ) {\n        if ( DEVELOP ) {\n            if ( !(child instanceof Component) ) {\n                throw new Error(__filename + ': wrong child type');\n            }\n        }\n\n        child.remove();\n    });\n\n    this.$node.parentNode.removeChild(this.$node);\n\n    // there are some listeners\n    if ( this.events['remove'] ) {\n        /**\n         * Delete this component.\n         *\n         * @event module:stb/component~Component#remove\n         */\n        this.emit('remove');\n    }\n\n    // remove all listeners\n    this.events = {};\n\n    //debug.log('component ' + this.name + '#' + this.id + ' remove', 'red');\n    debug.info('remove component ' + this.name + '#' + this.id, null, {\n        tags: ['remove', 'component', this.name, this.id]\n    });\n};\n\n\n/**\n * Activate the component.\n * Notify the owner-page and apply CSS class.\n *\n * @param {Object} [data] custom data which passed into handlers\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#focus\n */\nComponent.prototype.focus = function ( data ) {\n    var activePage = app.activePage,\n        activeItem = activePage.activeComponent;\n\n    // this is a visual component on a page\n    // not already focused and can accept focus\n    if ( this.focusable && this !== activeItem ) {\n        // notify the current active component\n        if ( activeItem ) { activeItem.blur(); }\n\n        /* eslint consistent-this: 0 */\n\n        // apply\n        activePage.activeComponent = activeItem = this;\n        activeItem.$node.classList.add('focus');\n\n        //debug.log('component ' + this.name + '#' + this.id + ' focus');\n        debug.info('focus component ' + this.name + '#' + this.id, null, {\n            tags: ['focus', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( activeItem.events['focus'] ) {\n            /**\n             * Make this component focused.\n             *\n             * @event module:stb/component~Component#focus\n             */\n            activeItem.emit('focus', data);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Remove focus.\n * Change page.activeComponent and notify subscribers.\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#blur\n */\nComponent.prototype.blur = function () {\n    var activePage = app.activePage,\n        activeItem = activePage.activeComponent;\n\n    // apply visuals anyway\n    this.$node.classList.remove('focus');\n\n    // this is the active component\n    if ( this === activeItem ) {\n        activePage.activeComponent = null;\n\n        //debug.log('component ' + this.name + '#' + this.id + ' blur', 'grey');\n        debug.info('blur component ' + this.name + '#' + this.id, null, {\n            tags: ['blur', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['blur'] ) {\n            /**\n             * Remove focus from this component.\n             *\n             * @event module:stb/component~Component#blur\n             */\n            this.emit('blur');\n        }\n\n        return true;\n    }\n\n    debug.warn('component ' + this.name + '#' + this.id + ' attempt to blur without link to a page', null, {\n        tags: ['blur', 'component', this.name, this.id]\n    });\n\n    // nothing was done\n    return false;\n};\n\n\n/*function show ( self, data ) {\n    // correct style\n    self.$node.classList.remove('hidden');\n    // flag\n    self.visible = true;\n\n    debug.info('show component ' + self.name + '#' + self.id, null, {\n        tags: ['show', 'component', self.name, self.id]\n    });\n\n    // there are some listeners\n    if ( self.events['show'] ) {\n        /!**\n         * Make the component visible.\n         *\n         * @event module:stb/component~Component#show\n         *!/\n        self.emit('show', data);\n    }\n}*/\n\n/**\n * Make the component visible and notify subscribers.\n *\n * @param {Object} [data] custom data which passed into handlers\n * @param {function} [callback] user callback\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#show\n */\nComponent.prototype.show = function ( data, callback ) {\n    //var self = this;\n\n    // is it hidden\n    if ( !this.visible ) {\n        /*if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(function () {\n                show(self, data);\n                callback();\n            });\n        } else {\n            // sync call\n            show(this, data);\n        }*/\n\n        // correct style\n        this.$node.classList.remove('hidden');\n        // flag\n        this.visible = true;\n\n        debug.info('show component ' + this.name + '#' + this.id, null, {\n            tags: ['show', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['show'] ) {\n            /**\n             * Make the component visible.\n             *\n             * @event module:stb/component~Component#show\n             */\n            this.emit('show', data);\n        }\n\n        // async call\n        if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(callback);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Make the component hidden and notify subscribers.\n *\n * @param {function} [callback] user callback\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#hide\n */\nComponent.prototype.hide = function ( callback ) {\n    // is it visible\n    if ( this.visible ) {\n        // correct style\n        this.$node.classList.add('hidden');\n        // flag\n        this.visible = false;\n\n        debug.info('hide component ' + this.name + '#' + this.id, null, {\n            tags: ['hide', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['hide'] ) {\n            /**\n             * Make the component hidden.\n             *\n             * @event module:stb/component~Component#hide\n             */\n            this.emit('hide');\n        }\n\n        // async call\n        if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(callback);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = Component;\n","/**\n * Main page implementation.\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n/*eslint-disable */\n\nvar id   = 'pageMain',\n    Page = require('stb-component-page'),\n    page = new Page({$node: document.getElementById(id)}),\n    //\n\n    app = require('mag-app'),\n    keys = require('stb-keys'),\n    //\n\n    WINDOW_HEIGHT = app.metrics.height,\n    PATH_IMG_PUBLIC = './img/' + WINDOW_HEIGHT,\n    keysBlock = require('../modules/vars').keysBlock,\n    gs = require('../modules/vars').gs;\n\n\npage.addListener('show', init);\n\nfunction init () {\n\n\n    gs.layers.context = document.getElementById('game').getContext('2d');\n    if ( !gs.layers.context || !gs.layers.context.drawImage ) {\n        return;\n    }\n\n    document.getElementById('game').width = gs.size[WINDOW_HEIGHT].scr.w;\n    document.getElementById('game').height = gs.size[WINDOW_HEIGHT].scr.h;\n    document.getElementById('cursorBox').style.width = gs.size[WINDOW_HEIGHT].scr.w + 'px';\n    document.getElementById('cursorBox').style.height = gs.size[WINDOW_HEIGHT].scr.h + 'px';\n\n    window.moveTo(0, 0);\n\n\n    gs.balls = [];\n    for ( var i = 0; i < gs.cells.y; i++ ) {\n        gs.balls[i] = [];\n        for ( var j = 0; j < gs.cells.x; j++ ) {\n            gs.balls[i][j] = null;\n        }\n    }\n\n    cvDraw.generateNextBalls();\n    cvDraw.showBall();\n    cvDraw.item();\n\n}\n\n\nfunction random ( max ) {\n    return Math.floor(Math.random() * (parseInt(max, 10) + 1));\n}\n\nvar cvDraw = {\n    \"sizeScr\": '',\n    \"ball\": null,\n    \"bgImg_1\": '',\n    \"bgImg_2\": '',\n    \"stopAddBalls\": false,\n    \"isEndGame\": false,\n    \"item\": function () {\n        document.getElementById('cursor').style.marginLeft = gs.position.current.x * gs.size[WINDOW_HEIGHT].cll.w + 'px';\n        document.getElementById('cursor').style.marginTop = gs.position.current.y * gs.size[WINDOW_HEIGHT].cll.h + 'px';\n    },\n    \"createBall\": function ( n_color, n_x, n_y ) {\n        var ball = new Image(),\n            clolor = !n_color ? gs.colors[random(gs.colors.length - 1)] : n_color,\n            self = this;\n        ball.src = PATH_IMG_PUBLIC + '/' + clolor + '.png';\n\n        ball.addEventListener(\n            'load',\n            function () {\n                var coords = self.findeFreePlace(),\n                    x = !n_color || n_x == -1 ? coords[0] : n_x,\n                    y = !n_color || n_y == -1 ? coords[1] : n_y;\n                if ( coords == false ) {\n                    cvDraw.showfinish();\n                    return;\n                }\n                var img = this;\n                gs.balls[y][x] = {\n                    \"x\": x,\n                    \"y\": y,\n                    \"color\": clolor,\n                    \"scale\": 0.1,\n                    'img': img,\n                    \"siObj\": null,\n                    \"_f\": function ( x, y ) {\n                        if ( this.scale < 1 ) {\n                            this.scale += 0.2;\n                            gs.layers.context.globalCompositeOperation = \"source-over\";\n                            gs.layers.context.drawImage(\n                                this.img,\n                                x * gs.size[WINDOW_HEIGHT].cll.w + gs.size[WINDOW_HEIGHT].cll.w / 2 - gs.size[WINDOW_HEIGHT].cll.w * gs.balls[y][x].scale / 2,\n                                y * gs.size[WINDOW_HEIGHT].cll.h + gs.size[WINDOW_HEIGHT].cll.h / 2 - gs.size[WINDOW_HEIGHT].cll.h * gs.balls[y][x].scale / 2,\n                                gs.size[WINDOW_HEIGHT].cll.w * this.scale,\n                                gs.size[WINDOW_HEIGHT].cll.h * this.scale\n                            );\n                        } else {\n                            clearInterval(this.siObj);\n                            this.siObj = null;\n                        }\n                    }\n                };\n                gs.balls[y][x].scale = 0.4;\n                gs.layers.context.drawImage(\n                    this,\n                    x * gs.size[WINDOW_HEIGHT].cll.w + gs.size[WINDOW_HEIGHT].cll.w / 2 - gs.size[WINDOW_HEIGHT].cll.w * gs.balls[y][x].scale / 2,\n                    y * gs.size[WINDOW_HEIGHT].cll.h + gs.size[WINDOW_HEIGHT].cll.h / 2 - gs.size[WINDOW_HEIGHT].cll.h * gs.balls[y][x].scale / 2,\n                    gs.size[WINDOW_HEIGHT].cll.w * gs.balls[y][x].scale,\n                    gs.size[WINDOW_HEIGHT].cll.h * gs.balls[y][x].scale\n                );\n                gs.balls[y][x].siObj = setInterval(\n                    function () {\n                        gs.balls[y][x]._f(x, y);\n                    },\n                    25\n                );\n            },\n            false\n        );\n    },\n    \"showfinish\": function () {\n        keysBlock = true;\n        if ( gs.account < 50 ) {\n            document.getElementById('errorFinish').style.display = 'block';\n        } else {\n            document.getElementById('errorFinish2').style.display = 'block';\n        }\n\n    },\n    \"showBall\": function () {\n        if ( this.isEndGame == false ) {\n            for ( var i = 0; i < gs.nextBalls.length; i++ ) {\n                this.createBall(gs.nextBalls[i], -1, -1);\n            }\n            var counter = 0;\n            for ( var i = 0; i < gs.balls.length; i++ ) {\n                for ( var j = 0; j < gs.balls[i].length; j++ ) {\n                    if ( gs.balls[i][j] != null ) {\n                        counter++;\n                    }\n                }\n            }\n            if ( counter + 3 >= gs.balls.length * gs.balls[0].length ) {\n                this.showfinish();\n                return;\n            }\n            this.generateNextBalls();\n            var self = this;\n            setTimeout(function () {\n                self.checkLines(false);\n            }, 250)\n        } else {\n            this.stopAddBalls = false;\n        }\n    },\n    \"jumpBallTimer\": null,\n    \"jumpBallScale\": 0.6,\n    \"jumpBallScaleD\": 0.1,\n    \"jumpBall\": function ( v ) {\n        var self = this;\n        if ( v == 9 ) {\n            this.jumpBallTimer = setInterval(function () {\n                self.jumpBallStartJumping();\n            }, 60);\n        }\n    },\n    \"jumpBallStartJumping\": function () {\n        if ( this.jumpBallScale >= 0.75 ) {\n            this.jumpBallScaleD = -0.05;\n        }\n        if ( this.jumpBallScale <= 0.55 ) {\n            this.jumpBallScaleD = 0.05;\n        }\n        this.jumpBallScale += this.jumpBallScaleD;\n        gs.layers.context.clearRect(\n            gs.move.start.x * gs.size[WINDOW_HEIGHT].cll.w,\n            gs.move.start.y * gs.size[WINDOW_HEIGHT].cll.h,\n            gs.size[WINDOW_HEIGHT].cll.w,\n            gs.size[WINDOW_HEIGHT].cll.h\n        );\n        gs.layers.context.drawImage(\n            gs.balls[gs.move.start.y][gs.move.start.x].img,\n            gs.move.start.x * gs.size[WINDOW_HEIGHT].cll.w,\n            gs.move.start.y * gs.size[WINDOW_HEIGHT].cll.h + gs.size[WINDOW_HEIGHT].cll.h / 3 - gs.size[WINDOW_HEIGHT].cll.h * this.jumpBallScale / 2,\n            gs.size[WINDOW_HEIGHT].cll.w,\n            gs.size[WINDOW_HEIGHT].cll.h\n        );\n    },\n    \"findeFreePlace\": function () {\n        try {\n            var x = random(gs.cells.x - 1),\n                y = random(gs.cells.y - 1);\n            if ( gs.balls[y][x] != null ) {\n                return this.findeFreePlace();\n            } else {\n                return [x, y];\n            }\n        } catch ( e ) {\n            this.isEndGame = true;\n            this.showfinish();\n            return false;\n        }\n    },\n    \"jumpBallStop\": function () {\n        clearInterval(this.jumpBallTimer);\n        gs.move.selected = false;\n    },\n    \"ballMoveStart\": function () {\n        if ( gs.balls[gs.position.current.y][gs.position.current.x] != null ) {\n            gs.move.readyToCheck = false;\n            gs.move.selected = true;\n            gs.move.start.x = gs.position.current.x;\n            gs.move.start.y = gs.position.current.y;\n\n            var self = this;\n            this.jumpBallTimer = setInterval(function () {\n                self.jumpBallStartJumping();\n            }, 60);\n        }\n    },\n    \"PressOK\": function () {\n        if ( gs.move.selected == true ) {\n            if ( gs.move.start.x == gs.position.current.x &&\n                gs.move.start.y == gs.position.current.y ) {\n                cvDraw.jumpBallStop();\n                gs.move.start.x = -1;\n                gs.move.start.y = -1;\n                debug.log('disable select');\n            } else {\n                if ( gs.balls[gs.position.current.y][gs.position.current.x] != null ) {\n                    cvDraw.jumpBallStop();\n                    gs.move.readyToCheck = false;\n                    gs.move.selected = true;\n                    gs.move.start.x = gs.position.current.x;\n                    gs.move.start.y = gs.position.current.y;\n                    this.ballMoveStart();\n                    debug.log('enable select');\n                }\n\n                gs.move.finish.x = gs.position.current.x;\n                gs.move.finish.y = gs.position.current.y;\n                this.checkWay();\n            }\n        }\n        else {\n            if ( gs.move.start.x == -1 &&\n                gs.move.start.y == -1 &&\n                gs.balls[gs.position.current.y][gs.position.current.x] != null ) {\n                gs.move.readyToCheck = false;\n                gs.move.selected = true;\n                gs.move.start.x = gs.position.current.x;\n                gs.move.start.y = gs.position.current.y;\n                this.ballMoveStart();\n                debug.log('enable select');\n            } else {\n\n            }\n        }\n    },\n    \"arr\": [],\n    \"checkWay\": function () {\n        if ( gs.balls[gs.move.finish.y][gs.move.finish.x] != null ) {\n            return;\n        }\n        this.currentNum = 0;\n        this.arr = [];\n        for ( var i = 0; i < gs.cells.y; i++ ) {\n            this.arr[i] = [];\n            for ( var j = 0; j < gs.cells.x; j++ ) {\n                if ( gs.balls[i][j] != null ) {\n                    this.arr[i][j] = '#';\n                } else {\n                    this.arr[i][j] = '_';\n                }\n            }\n        }\n        this.arr[gs.move.start.y][gs.move.start.x] = \"S\";\n        this.arr[gs.move.finish.y][gs.move.finish.x] = \"F\";\n        var way = this.findPath(gs.move.start.x, gs.move.start.y);\n        if ( way != false ) {\n            this.drawWay(way);\n        } else {\n            document.getElementById('errorBadPath').style.display = 'block';\n            setTimeout(function () {\n                document.getElementById('errorBadPath').style.display = 'none';\n            }, 1500);\n        }\n    },\n    \"showArr\": function () {\n        var str = '\\n';\n        for ( var i = 0; i < gs.cells.x; i++ ) {\n            var line = '';\n            for ( var j = 0; j < gs.cells.x; j++ ) {\n                line += this.arr[i][j] + ' ';\n            }\n            str += line + '\\n';\n        }\n        return str;\n    },\n    \"currentNum\": 0,\n    \"findPath\": function ( x, y ) {\n        if ( x < 0 || x > this.arr.length - 1 || y < 0 || y > this.arr[0].length - 1 ) {\n            return false;\n        }\n        if ( this.arr[y][x] == 'F' ) {\n            return true;\n        }\n        if ( this.arr[y][x] != '_' && this.arr[y][x] != \"S\" ) {\n            return false;\n        }\n        this.arr[y][x] = this.currentNum++;\n        for ( var k = 0; k < this.arr.length * this.arr[0].length; k++ ) {\n            for ( var i = 0; i < this.arr.length; i++ ) {\n                for ( var j = 0; j < this.arr[i].length; j++ ) {\n                    if ( this.arr[i][j] == k ) {\n                        this.setNums(j, i, k + 1);\n                    }\n                }\n            }\n        }\n        return this.getWay();\n    },\n    \"setNums\": function ( x, y, num ) {\n        if ( !(x < 0 || x > this.arr.length - 1 || y - 1 < 0 || y - 1 > this.arr[0].length - 1) && this.arr[y - 1][x] == '_' ) {\n            this.arr[y - 1][x] = num;\n        }\n        if ( !(x < 0 || x > this.arr.length - 1 || y + 1 < 0 || y + 1 > this.arr[0].length - 1) && this.arr[y + 1][x] == '_' ) {\n            this.arr[y + 1][x] = num;\n        }\n        if ( !(x - 1 < 0 || x - 1 > this.arr.length - 1 || y < 0 || y > this.arr[0].length - 1) && this.arr[y][x - 1] == '_' ) {\n            this.arr[y][x - 1] = num;\n        }\n        if ( !(x + 1 < 0 || x + 1 > this.arr.length - 1 || y < 0 || y > this.arr[0].length - 1) && this.arr[y][x + 1] == '_' ) {\n            this.arr[y][x + 1] = num;\n        }\n    },\n    \"getMinFrom\": function ( x, y ) {\n        var tmp = [];\n        var tmp_obj = [];\n        if ( !(x < 0 || x > this.arr.length - 1 || y - 1 < 0 || y - 1 > this.arr[0].length - 1) && this.arr[y - 1][x] != '_' && this.arr[y - 1][x] != '#' ) {\n            tmp[tmp.length] = this.arr[y - 1][x];\n            tmp_obj[tmp_obj.length] = {\n                \"x\": x,\n                \"y\": y - 1\n            };\n        }\n        if ( !(x < 0 || x > this.arr.length - 1 || y + 1 < 0 || y + 1 > this.arr[0].length - 1) && this.arr[y + 1][x] != '_' && this.arr[y + 1][x] != '#' ) {\n            tmp[tmp.length] = this.arr[y + 1][x];\n            tmp_obj[tmp_obj.length] = {\n                \"x\": x,\n                \"y\": y + 1\n            };\n        }\n        if ( !(x - 1 < 0 || x - 1 > this.arr.length - 1 || y < 0 || y > this.arr[0].length - 1) && this.arr[y][x - 1] != '_' && this.arr[y][x - 1] != '#' ) {\n            tmp[tmp.length] = this.arr[y][x - 1];\n            tmp_obj[tmp_obj.length] = {\n                \"x\": x - 1,\n                \"y\": y\n            };\n        }\n        if ( !(x + 1 < 0 || x + 1 > this.arr.length - 1 || y < 0 || y > this.arr[0].length - 1) && this.arr[y][x + 1] != '_' && this.arr[y][x + 1] != '#' ) {\n            tmp[tmp.length] = this.arr[y][x + 1];\n            tmp_obj[tmp_obj.length] = {\n                \"x\": x + 1,\n                \"y\": y\n            };\n        }\n        var minValue = 999;\n        var minIndex = 0;\n\n        for ( var i = 0; i < tmp.length; i++ ) {\n            if ( minValue > tmp[i] ) {\n                minValue = tmp[i];\n                minIndex = i;\n            }\n        }\n        return tmp_obj ? {\n            \"obj\": tmp_obj[minIndex],\n            \"num\": tmp[minIndex]\n        } : false;\n    },\n    \"getMinAtThe\": function ( x, y, num ) {\n        var tmp = [];\n        var tmp_obj = [];\n        if ( !(x < 0 || x > this.arr.length - 1 || y - 1 < 0 || y - 1 > this.arr[0].length - 1) && this.arr[y - 1][x] == num ) {\n            tmp_obj[tmp_obj.length] = {\n                \"x\": x,\n                \"y\": y - 1\n            };\n        }\n        if ( !(x < 0 || x > this.arr.length - 1 || y + 1 < 0 || y + 1 > this.arr[0].length - 1) && this.arr[y + 1][x] == num ) {\n            tmp[tmp.length] = this.arr[y + 1][x];\n            tmp_obj[tmp_obj.length] = {\n                \"x\": x,\n                \"y\": y + 1\n            };\n        }\n        if ( !(x - 1 < 0 || x - 1 > this.arr.length - 1 || y < 0 || y > this.arr[0].length - 1) && this.arr[y][x - 1] == num ) {\n            tmp[tmp.length] = this.arr[y][x - 1];\n            tmp_obj[tmp_obj.length] = {\n                \"x\": x - 1,\n                \"y\": y\n            };\n        }\n        if ( !(x + 1 < 0 ||\n            x + 1 > this.arr.length - 1 ||\n            y < 0 ||\n            y > this.arr[0].length - 1) &&\n            this.arr[y][x + 1] == num ) {\n            tmp[tmp.length] = this.arr[y][x + 1];\n            tmp_obj[tmp_obj.length] = {\n                \"x\": x + 1,\n                \"y\": y\n            };\n        }\n        return tmp_obj[0];\n    },\n    \"getWay\": function () {\n\n        var start = this.getMinFrom(gs.move.finish.x, gs.move.finish.y);\n        if ( start == false ) {\n            return false;\n        }\n        var curNum = start.num;\n        var coords = [start.obj];\n        for ( var i = 0; i < this.arr.length * this.arr[0].length; i++ ) {\n            try {\n                coords.unshift(this.getMinAtThe(coords[0].x, coords[0].y, --curNum));\n            } catch ( e ) {\n            }\n            try {\n                if ( coords[0].x == gs.move.start.x && coords[0].y == gs.move.start.y ) {\n                    break;\n                }\n            } catch ( e ) {\n            }\n        }\n        coords.shift();\n        return coords;\n\n    },\n    \"drawWay\": function ( way ) {\n        if ( way.length == 1 && gs.move.start.x == way[0].x && gs.move.start.y == way[0].y ) {\n            way = [];\n        }\n        for ( var i = 0; i < way.length; i++ ) {\n            gs.layers.context.drawImage(\n                gs.balls[gs.move.start.y][gs.move.start.x].img,\n                way[i].x * gs.size[WINDOW_HEIGHT].cll.w + gs.size[WINDOW_HEIGHT].cll.w / 2 - gs.size[WINDOW_HEIGHT].cll.w * 0.4 / 2,\n                way[i].y * gs.size[WINDOW_HEIGHT].cll.h + gs.size[WINDOW_HEIGHT].cll.h / 2 - gs.size[WINDOW_HEIGHT].cll.h * 0.4 / 2,\n                gs.size[WINDOW_HEIGHT].cll.w * 0.4,\n                gs.size[WINDOW_HEIGHT].cll.h * 0.4\n            );\n        }\n        this.createBall(gs.balls[gs.move.start.y][gs.move.start.x].color, gs.move.finish.x, gs.move.finish.y);\n        var self = this;\n        setTimeout(function () {\n            gs.layers.context.clearRect(\n                gs.move.start.x * gs.size[WINDOW_HEIGHT].cll.w,\n                gs.move.start.y * gs.size[WINDOW_HEIGHT].cll.h,\n                gs.size[WINDOW_HEIGHT].cll.w,\n                gs.size[WINDOW_HEIGHT].cll.h);\n            gs.balls[gs.move.start.y][gs.move.start.x] = null;\n            for ( var i = 0; i < way.length; i++ ) {\n                gs.layers.context.clearRect(way[i].x * gs.size[WINDOW_HEIGHT].cll.w, way[i].y * gs.size[WINDOW_HEIGHT].cll.h, gs.size[WINDOW_HEIGHT].cll.w, gs.size[WINDOW_HEIGHT].cll.h);\n            }\n            gs.move.start.x = -1;\n            gs.move.start.y = -1;\n            gs.move.finish.x = -1;\n            gs.move.finish.y = -1;\n            self.checkLines(true);\n            self.jumpBallStop();\n        }, 500);\n    },\n    \"checkLines\": function ( setballs ) {\n        // check horizontal lines\n        var isLineClear = false;\n        var lines = [];\n        for ( var y = 0; y < gs.balls.length; y++ ) {\n            lines[y] = [];\n            for ( var x = 0; x < gs.balls[0].length; x++ ) {\n                if ( lines[y].length == 0 && gs.balls[y][x] != null ) {\n                    lines[y][lines[y].length] = {\"color\": gs.balls[y][x].color, \"x\": gs.balls[y][x].x, \"y\": gs.balls[y][x].y, \"del\": false};\n                } else {\n                    if ( gs.balls[y][x] != null && lines[y][lines[y].length - 1].color == gs.balls[y][x].color ) {\n                        lines[y][lines[y].length] = {\"color\": gs.balls[y][x].color, \"x\": gs.balls[y][x].x, \"y\": gs.balls[y][x].y};\n                    } else {\n                        if ( lines[y].length < 5 ) {\n                            lines[y] = gs.balls[y][x] != null ? new Array({\"color\": gs.balls[y][x].color, \"x\": gs.balls[y][x].x, \"y\": gs.balls[y][x].y}) : [];\n                        }\n                    }\n                }\n            }\n\n            if ( lines[y].length >= 5 ) {\n                debug.log('\\n\\n\\n\\n');\n                var new_line = [];\n                var start_x = lines[y][0].x;\n                for ( var oo = 0; oo < lines[y].length; oo++ ) {\n                    debug.log('lines[' + y + '][' + oo + '].x: ' + (lines[y][oo].x).toString() + '  -|-  start_x: ' + start_x);\n                    if ( lines[y][oo].x == start_x || lines[y][oo].x - 1 == start_x ) {\n                        new_line.push(lines[y][oo]);\n                        debug.log(new_line[new_line.length - 1].y + ' --- x: ' + new_line[new_line.length - 1].x);\n\n                    } else {\n                        debug.log('break, new_line.length: ' + new_line.length);\n                        if ( new_line.length < 5 ) {\n                            new_line = [];\n                        } else {\n                            break;\n                        }\n                    }\n                    start_x = lines[y][oo].x;\n                }\n                lines[y] = new_line;\n                debug.log('\\n\\n\\n\\n');\n            }\n        }\n        for ( var i = 0; i < lines.length; i++ ) {\n            if ( lines[i].length < 5 ) {\n                lines[i] = [];\n            }\n            else {\n                for ( var j = 0; j < lines[i].length; j++ ) {\n                    if ( gs.balls[lines[i][j].y][lines[i][j].x] == null ) {\n                        lines[i] = [];\n                    }\n                }\n                if ( lines[i].length < 5 ) {\n                    break;\n                }\n                for ( var j = 0; j < lines[i].length; j++ ) {\n                    debug.log('horizontal lines || y: ' + lines[i][j].y + ' --- x: ' + lines[i][j].x);\n                    gs.balls[lines[i][j].y][lines[i][j].x] = null;\n                    gs.layers.context.clearRect(lines[i][j].x * gs.size[WINDOW_HEIGHT].cll.w, lines[i][j].y * gs.size[WINDOW_HEIGHT].cll.h, gs.size[WINDOW_HEIGHT].cll.w, gs.size[WINDOW_HEIGHT].cll.h);\n                }\n                gs.account += lines[i].length * gs.coeff;\n                isLineClear = true;\n            }\n        }\n        // check vertical lines\n        lines = [];\n        for ( var x = 0; x < gs.balls[0].length; x++ ) {\n            lines[x] = [];\n            for ( var y = 0; y < gs.balls.length; y++ ) {\n                if ( lines[x].length == 0 && gs.balls[y][x] != null ) {\n                    lines[x][lines[x].length] = {\"color\": gs.balls[y][x].color, \"x\": gs.balls[y][x].x, \"y\": gs.balls[y][x].y};\n                } else {\n                    if ( gs.balls[y][x] != null && lines[x][lines[x].length - 1].color == gs.balls[y][x].color ) {\n                        lines[x][lines[x].length] = {\"color\": gs.balls[y][x].color, \"x\": gs.balls[y][x].x, \"y\": gs.balls[y][x].y};\n                    } else {\n                        if ( lines[x].length < 5 ) {\n                            lines[x] = gs.balls[y][x] != null ? new Array({\"color\": gs.balls[y][x].color, \"x\": gs.balls[y][x].x, \"y\": gs.balls[y][x].y}) : [];\n                        }\n                    }\n                }\n            }\n\n            if ( lines[x].length >= 5 ) {\n                debug.log('\\n\\n\\n\\n');\n                var new_line = [];\n                var start_y = lines[x][0].y | 0;\n                for ( var oo = 0; oo < lines[x].length; oo++ ) {\n                    debug.log('lines[' + x + '][' + oo + '].y: ' + (lines[x][oo].y).toString() + '  -|-  start_y ' + start_y);\n                    if ( lines[x][oo].y == start_y || lines[x][oo].y - 1 == start_y ) {\n                        new_line.push(lines[x][oo]);\n                        debug.log(new_line[new_line.length - 1].y + ' --- x: ' + new_line[new_line.length - 1].x);\n\n                    } else {\n                        debug.log('break, new_line.length: ' + new_line.length);\n                        if ( new_line.length < 5 ) {\n                            new_line = [];\n                        } else {\n                            break;\n                        }\n                    }\n                    start_y = lines[x][oo].y;\n                }\n                lines[x] = new_line;\n                debug.log('\\n\\n\\n\\n');\n            }\n        }\n        for ( var i = 0; i < lines.length; i++ ) {\n            if ( lines[i].length < 5 ) {\n                lines[i] = [];\n            } else {\n                for ( var j = 0; j < lines[i].length; j++ ) {\n                    if ( gs.balls[lines[i][j].y][lines[i][j].x] == null ) {\n                        lines[i] = [];\n                    }\n                }\n                if ( lines[i].length < 5 ) {\n                    break;\n                }\n                for ( var j = 0; j < lines[i].length; j++ ) {\n                    debug.log('vertical lines || y: ' + lines[i][j].y + ' --- x: ' + lines[i][j].x);\n                    gs.balls[lines[i][j].y][lines[i][j].x] = null;\n                    gs.layers.context.clearRect(\n                        lines[i][j].x * gs.size[WINDOW_HEIGHT].cll.w,\n                        lines[i][j].y * gs.size[WINDOW_HEIGHT].cll.h,\n                        gs.size[WINDOW_HEIGHT].cll.w,\n                        gs.size[WINDOW_HEIGHT].cll.h\n                    );\n                }\n                gs.account += lines[i].length * gs.coeff;\n                isLineClear = true;\n            }\n        }\n\n        // check left:top - right:bottom diagonal lines\n        var counter = 0;\n        lines = [];\n        for ( var x = 0; x < gs.balls[0].length; x++ ) {\n            var y = 0;\n            lines[counter] = [];\n            for ( var d = 0; d < gs.balls.length; d++ ) {\n                if ( x + d < gs.balls[0].length &&\n                    y + d < gs.balls.length ) {\n\n                    if ( lines[counter].length == 0 && gs.balls[y + d][x + d] != null ) {\n                        lines[counter][lines[counter].length] = {\"color\": gs.balls[y + d][x + d].color, \"x\": gs.balls[y + d][x + d].x, \"y\": gs.balls[y + d][x + d].y};\n                    } else {\n                        if ( gs.balls[y + d][x + d] != null && lines[counter][lines[counter].length - 1].color == gs.balls[y + d][x + d].color ) {\n                            lines[counter][lines[counter].length] = {\"color\": gs.balls[y + d][x + d].color, \"x\": gs.balls[y + d][x + d].x, \"y\": gs.balls[y + d][x + d].y};\n                        } else {\n                            if ( lines[counter].length < 5 ) {\n                                if ( gs.balls[y + d][x + d] == null ) {\n                                    lines[counter] = [];\n                                } else {\n                                    lines[counter] = new Array({\"color\": gs.balls[y + d][x + d].color, \"x\": gs.balls[y + d][x + d].x, \"y\": gs.balls[y + d][x + d].y});\n                                }\n                            } else {\n                                continue;\n                            }\n                        }\n                    }\n                }\n            }\n            counter++;\n        }\n\n        for ( var y = 1; y < gs.balls.length; y++ ) {\n            var x = 0;\n            lines[counter] = [];\n            for ( var d = 0; d < gs.balls.length; d++ ) {\n                if ( x + d < gs.balls[0].length &&\n                    y + d < gs.balls.length ) {\n                    if ( lines[counter].length == 0 && gs.balls[y + d][x + d] != null ) {\n                        lines[counter][lines[counter].length] = {\"color\": gs.balls[y + d][x + d].color, \"x\": gs.balls[y + d][x + d].x, \"y\": gs.balls[y + d][x + d].y};\n                    } else {\n                        if ( gs.balls[y + d][x + d] != null && lines[counter][lines[counter].length - 1].color == gs.balls[y + d][x + d].color ) {\n                            lines[counter][lines[counter].length] = {\"color\": gs.balls[y + d][x + d].color, \"x\": gs.balls[y + d][x + d].x, \"y\": gs.balls[y + d][x + d].y};\n                        } else {\n                            if ( lines[counter].length < 5 ) {\n                                if ( gs.balls[y + d][x + d] == null ) {\n                                    lines[counter] = [];\n                                } else {\n                                    lines[counter] = new Array({\"color\": gs.balls[y + d][x + d].color, \"x\": gs.balls[y + d][x + d].x, \"y\": gs.balls[y + d][x + d].y});\n                                }\n                            } else {\n                                continue;\n                            }\n                        }\n                    }\n                }\n            }\n            if ( lines[counter].length < 5 ) {\n                lines[counter] = [];\n            }\n            counter++;\n        }\n        for ( var i = 0; i < lines.length; i++ ) {\n            if ( lines[i].length < 5 ) {\n                continue;\n            }\n            for ( var j = 0; j < lines[i].length; j++ ) {\n\n                gs.balls[lines[i][j].y][lines[i][j].x] = null;\n                gs.layers.context.clearRect(\n                    lines[i][j].x * gs.size[WINDOW_HEIGHT].cll.w,\n                    lines[i][j].y * gs.size[WINDOW_HEIGHT].cll.h,\n                    gs.size[WINDOW_HEIGHT].cll.w,\n                    gs.size[WINDOW_HEIGHT].cll.h\n                );\n            }\n            gs.account += lines[i].length * gs.coeff;\n            isLineClear = true;\n        }\n        // check right:top - left:bottom diagonal lines\n        var counter = 0;\n        lines = [];\n        for ( var x = gs.balls[0].length - 1; x >= 0; x-- ) {\n            var y = 0;\n            lines[counter] = [];\n            for ( var d = 0; d < gs.balls.length; d++ ) {\n                if ( x - d >= 0 &&\n                    y + d < gs.balls.length ) {\n                    if ( lines[counter].length == 0 && gs.balls[y + d][x - d] != null ) {\n                        lines[counter][lines[counter].length] = {\"color\": gs.balls[y + d][x - d].color, \"x\": gs.balls[y + d][x - d].x, \"y\": gs.balls[y + d][x - d].y};\n                    } else {\n                        if ( gs.balls[y + d][x - d] != null && lines[counter][lines[counter].length - 1].color == gs.balls[y + d][x - d].color ) {\n                            lines[counter][lines[counter].length] = {\"color\": gs.balls[y + d][x - d].color, \"x\": gs.balls[y + d][x - d].x, \"y\": gs.balls[y + d][x - d].y};\n                        } else {\n                            if ( lines[counter].length < 5 ) {\n                                if ( gs.balls[y + d][x - d] == null ) {\n                                    lines[counter] = [];\n                                } else {\n                                    lines[counter] = new Array({\"color\": gs.balls[y + d][x - d].color, \"x\": gs.balls[y + d][x - d].x, \"y\": gs.balls[y + d][x - d].y});\n                                }\n                            } else {\n                                continue;\n                            }\n                        }\n                    }\n                }\n            }\n            if ( lines[counter].length < 5 ) {\n                lines[counter] = [];\n            }\n            counter++;\n        }\n        for ( var y = 1; y < gs.balls.length; y++ ) {\n            var x = gs.balls[0].length - 1;\n            lines[counter] = [];\n            for ( var d = 0; d < gs.balls.length; d++ ) {\n                if ( x - d < gs.balls[0].length &&\n                    y + d < gs.balls.length ) {\n                    if ( lines[counter].length == 0 && gs.balls[y + d][x - d] != null ) {\n                        lines[counter][lines[counter].length] = {\"color\": gs.balls[y + d][x - d].color, \"x\": gs.balls[y + d][x - d].x, \"y\": gs.balls[y + d][x - d].y};\n                    } else {\n                        if ( gs.balls[y + d][x - d] != null && lines[counter][lines[counter].length - 1].color == gs.balls[y + d][x - d].color ) {\n                            lines[counter][lines[counter].length] = {\"color\": gs.balls[y + d][x - d].color, \"x\": gs.balls[y + d][x - d].x, \"y\": gs.balls[y + d][x - d].y};\n                        } else {\n                            if ( lines[counter].length < 5 ) {\n                                if ( gs.balls[y + d][x - d] == null ) {\n                                    lines[counter] = [];\n                                } else {\n                                    lines[counter] = new Array({\"color\": gs.balls[y + d][x - d].color, \"x\": gs.balls[y + d][x - d].x, \"y\": gs.balls[y + d][x - d].y});\n                                }\n                            } else {\n                                continue;\n                            }\n                        }\n                    }\n                }\n            }\n            if ( lines[counter].length < 5 ) {\n                lines[counter] = [];\n            }\n            counter++;\n        }\n        for ( var i = 0; i < lines.length; i++ ) {\n            if ( lines[i].length < 5 ) {\n                continue;\n            }\n            for ( var j = 0; j < lines[i].length; j++ ) {\n\n\n                gs.balls[lines[i][j].y][lines[i][j].x] = null;\n                gs.layers.context.clearRect(\n                    lines[i][j].x * gs.size[WINDOW_HEIGHT].cll.w,\n                    lines[i][j].y * gs.size[WINDOW_HEIGHT].cll.h,\n                    gs.size[WINDOW_HEIGHT].cll.w,\n                    gs.size[WINDOW_HEIGHT].cll.h\n                );\n            }\n            gs.account += lines[i].length * gs.coeff;\n            isLineClear = true;\n        }\n        var lis = document.getElementById('account').getElementsByTagName('li');\n        lis[0].innerHTML = '0';\n        lis[1].innerHTML = '0';\n        lis[2].innerHTML = '0';\n        lis[3].innerHTML = '0';\n        switch ( gs.account.toString().length ) {\n            case 4:\n                lis[0].innerHTML = gs.account.toString().substr(0, 1);\n                lis[1].innerHTML = gs.account.toString().substr(1, 1);\n                lis[2].innerHTML = gs.account.toString().substr(2, 1);\n                lis[3].innerHTML = gs.account.toString().substr(3, 1);\n                break;\n            case 3:\n                lis[1].innerHTML = gs.account.toString().substr(0, 1);\n                lis[2].innerHTML = gs.account.toString().substr(1, 1);\n                lis[3].innerHTML = gs.account.toString().substr(2, 1);\n                break;\n            case 2:\n                lis[2].innerHTML = gs.account.toString().substr(0, 1);\n                lis[3].innerHTML = gs.account.toString().substr(1, 1);\n                break;\n            case 1:\n                lis[3].innerHTML = gs.account.toString().substr(0, 1);\n                break;\n        }\n        if ( isLineClear == true ) {\n            this.stopAddBalls = true;\n        } else {\n            if ( setballs == true ) {\n                this.showBall();\n            }\n        }\n    },\n    \"generateNextBalls\": function () {\n        gs.nextBalls = new Array(gs.colors[random(gs.colors.length - 1)], gs.colors[random(gs.colors.length - 1)], gs.colors[random(gs.colors.length - 1)]);\n        var li = document.getElementById('nextBalls').getElementsByTagName('li');\n        for ( var i = 0; i < gs.nextBalls.length; i++ ) {\n            li[i].style.backgroundImage = 'url(' + PATH_IMG_PUBLIC + '/' + gs.nextBalls[i] + '.png)';\n        }\n    }\n};\n\npage.addListener('keydown', function(event){\n    switch ( event.code ) {\n        case keys.right:\n            gs.position.old.y = gs.position.current.y;\n            gs.position.old.x = gs.position.current.x;\n            if ( gs.position.current.x + 1 <= gs.cells.x - 1 ) {\n                gs.position.current.x++;\n            } else {\n                gs.position.current.x = gs.cells.x - 1;\n            }\n            cvDraw.item();\n            break;\n        case keys.left:\n            gs.position.old.y = gs.position.current.y;\n            gs.position.old.x = gs.position.current.x;\n            if ( gs.position.current.x - 1 >= 0 ) {\n                gs.position.current.x--;\n            } else {\n                gs.position.current.x = 0;\n            }\n            cvDraw.item();\n            break;\n        case keys.down:\n            gs.position.old.y = gs.position.current.y;\n            gs.position.old.x = gs.position.current.x;\n            if ( gs.position.current.y + 1 <= gs.cells.y - 1 ) {\n                gs.position.current.y++;\n            } else {\n                gs.position.current.y = gs.cells.y - 1;\n            }\n            cvDraw.item();\n            break;\n        case keys.up:\n            gs.position.old.y = gs.position.current.y;\n            gs.position.old.x = gs.position.current.x;\n            if ( gs.position.current.y - 1 >= 0 ) {\n                gs.position.current.y--;\n            } else {\n                gs.position.current.y = 0;\n            }\n            cvDraw.item();\n            break;\n        case keys.ok:\n            if ( keysBlock == true ) {\n                init();\n                return;\n            }\n            cvDraw.PressOK();\n            break;\n        case keys.f2:\n            cvDraw.jumpBallStop();\n            break;\n        case keys.f1:\n            debug.log(cvDraw.showArr());\n            break;\n        //case keys.NUM9:\n        case keys.record:\n            cvDraw.showBall();\n            break;\n\n\n        case keys.refresh:\n            init();\n            break;\n        case keys.back:\n            exit();\n            break;\n    }\n});\n\nfunction exit (  ) {\n    core.notify({\n        title: 'Do you want to exit?',\n        icon: 'alert',\n        type: '',\n        buttons: [\n            {\n                value: 'Exit',\n                click: function () {\n                    core.call('exit');\n                }\n            },\n            {\n                value: 'Cancel', //  \n                click: function () {}\n            }\n        ],\n        timeout: 5000\n    });\n\n}\n\n// public\nmodule.exports = page;\n","/**\n * Global list of non-printable control key codes.\n *\n * At the moment `keypress` and `keydown` events are emitted for the same keys (for both printable and non-printable characters).\n *\n * WARNING!!! All codes in this file (except 'volumeUp' and 'volumeDown')\n * are used in window 'keydown' handler to prevent wrong 'keypress' firings.\n * If you add new code to this file 'keypress' event with this code will never fire.\n *\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar keys = require('spa-keys');\n\n\n// extend with additional codes\nkeys.back         = keys.backspace;\nkeys.channelNext  = keys.tab;        // Tab\nkeys.channelPrev  = keys.tab + 's';  // Shift+Tab\nkeys.ok           = keys.enter;      // Enter\nkeys.exit         = keys.escape;     // Esc\nkeys.volumeUp     = 107;             // NUMPAD +\nkeys.volumeDown   = 109;             // NUMPAD -\nkeys.f1           = 112 + 'c';       // Ctrl+F1\nkeys.f2           = 113 + 'c';       // Ctrl+F2\nkeys.f3           = 114 + 'c';       // Ctrl+F3\nkeys.f4           = 115 + 'c';       // Ctrl+F4\nkeys.refresh      = 116 + 'c';       // Ctrl+F5\nkeys.frame        = 117 + 'c';       // Ctrl+F6\nkeys.phone        = 119 + 'c';       // Ctrl+F8\nkeys.set          = 120 + 'c';       // Ctrl+F9\nkeys.tv           = 121 + 'c';       // Ctrl+F10\nkeys.menu         = 122 + 'c';       // Ctrl+F11\nkeys.app          = 123 + 'c';       // Ctrl+F12\nkeys.rewind       = 66  + 'a';       // Alt+B\nkeys.forward      = 70  + 'a';       // Alt+F\nkeys.audio        = 71  + 'a';       // Alt+G\nkeys.standby      = 74  + 'a';       // Alt+J\nkeys.keyboard     = 76  + 'a';       // Alt+L\nkeys.usbMounted   = 80  + 'a';       // Alt+P\nkeys.usbUnmounted = 81  + 'a';       // Alt+Q\nkeys.playPause    = 82  + 'a';       // Alt+R\nkeys.play         = -1;              // should be redefined on some platforms\nkeys.pause        = -1;              // should be redefined on some platforms\nkeys.stop         = 83  + 'a';       // Alt+S\nkeys.power        = 85  + 'a';       // Alt+U\nkeys.record       = 87  + 'a';       // Alt+W\nkeys.info         = 89  + 'a';       // Alt+Y\nkeys.mute         = 192 + 'a';\nkeys.digit0       = 48;\nkeys.digit1       = 49;\nkeys.digit2       = 50;\nkeys.digit3       = 51;\nkeys.digit4       = 52;\nkeys.digit5       = 53;\nkeys.digit6       = 54;\nkeys.digit7       = 55;\nkeys.digit8       = 56;\nkeys.digit9       = 57;\n\n\n// public\nmodule.exports = keys;\n\n// public\n// module.exports = {\n//     getCode: function ( event ) {\n//         var code = event.keyCode;\n//\n//         // apply key modifiers\n//         if ( event.shiftKey ) { code += 1000; }\n//         if ( event.altKey )   { code += 2000; }\n//\n//         return code;\n//     },\n//\n//     codes: {\n//         back:         8,    // Backspace\n//         channelPrev:  1009, // Shift+Tab\n//         channelNext:  9,    // Tab\n//         ok:           13,   // Enter\n//         exit:         27,   // Esc\n//         pageUp:       33,\n//         pageDown:     34,\n//         end:          35,\n//         home:         36,\n//         left:         37,\n//         up:           38,\n//         right:        39,\n//         down:         40,\n//         'delete':     46,\n//         volumeUp:     107,  // NUMPAD +\n//         volumeDown:   109,  // NUMPAD -\n//         f1:           112,  // F1\n//         f2:           113,  // F2\n//         f3:           114,  // F3\n//         f4:           115,  // F4\n//         refresh:      116,  // F5\n//         frame:        117,  // F6\n//         phone:        119,  // F8\n//         set:          120,  // F9\n//         tv:           121,  // F10\n//         menu:         122,  // F11\n//         app:          123,  // F12\n//         rewind:       2066, // Alt+B\n//         forward:      2070, // Alt+F\n//         audio:        2071, // Alt+G\n//         standby:      2074, // Alt+J\n//         keyboard:     2076, // Alt+L\n//         usbMounted:   2080, // Alt+P\n//         usbUnmounted: 2081, // Alt+Q\n//         playPause:    2082, // Alt+R\n//         stop:         2083, // Alt+S\n//         power:        2085, // Alt+U\n//         record:       2087, // Alt+W\n//         info:         2089, // Alt+Y\n//         mute:         2192\n//     }\n// };\n","/**\n * Global list of non-printable control key codes.\n *\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n    backspace: 8,\n    tab:       9,\n    enter:     13,\n    escape:    27,\n    space:     32,\n    pageUp:    33,\n    pageDown:  34,\n    end:       35,\n    home:      36,\n    left:      37,\n    up:        38,\n    right:     39,\n    down:      40,\n    insert:    45,\n    // not \"delete\" because of old browsers issue\n    del:       46\n};\n"],"sourceRoot":""}