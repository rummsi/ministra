!function(e){var t={};function i(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(o,s,function(t){return e[t]}.bind(null,s));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=16)}([function(e,t,i){"use strict";var o=i(9);o.back=o.backspace,o.channelNext=o.tab,o.channelPrev=o.tab+"s",o.ok=o.enter,o.exit=o.escape,o.volumeUp=107,o.volumeDown=109,o.f1="112c",o.f2="113c",o.f3="114c",o.f4="115c",o.refresh="116c",o.frame="117c",o.phone="119c",o.set="120c",o.tv="121c",o.menu="122c",o.app="123c",o.rewind="66a",o.forward="70a",o.audio="71a",o.standby="74a",o.keyboard="76a",o.usbMounted="80a",o.usbUnmounted="81a",o.playPause="82a",o.play=-1,o.pause=-1,o.stop="83a",o.power="85a",o.record="87a",o.info="89a",o.mute="192a",o.digit0=48,o.digit1=49,o.digit2=50,o.digit3=51,o.digit4=52,o.digit5=53,o.digit6=54,o.digit7=55,o.digit8=56,o.digit9=57,e.exports=o},function(e,t,i){"use strict";var o=new(i(5));e.exports={instance:o}},function(e,t,i){"use strict";var o=i(17);e.exports=o},function(e,t,i){"use strict";var o=i(4),s=i(5),n=0;function a(e){var t,i=this;if(e=e||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!e.propagate,s.call(this),this.$node=e.$node||document.createElement("div"),this.$body=e.$body||this.$node,this.$node.className=this.name+" "+(e.className||""),this.id=e.id||this.$node.id||"cid"+n++,e.parent&&e.parent.add(this),!1===e.visible&&this.hide(),!1===e.focusable&&(this.focusable=!1),this.defaultEvents)for(t in e.events=e.events||{},this.defaultEvents)e.events[t]=e.events[t]||this.defaultEvents[t];e.events&&Object.keys(e.events).forEach(function(t){i.addListener(t,e.events[t])}),e.children&&this.add.apply(this,e.children),this.$node.addEventListener("click",function(e){i.focus(),i.events["click"]&&i.emit("click",e),e.stopPropagation()}),this.name,this.id,this.name,this.id}a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.defaultEvents=null,a.prototype.add=function(e){var t;for(t=0;t<arguments.length;t++)e=arguments[t],this.children.push(e),e.parent=this,e.$node&&null===e.$node.parentNode&&this.$body.appendChild(e.$node),e.name,e.id,this.name,this.id,this.name,this.id,e.name,e.id,this.events["add"]&&this.emit("add",{item:e})},a.prototype.remove=function(){this.parent&&(o.activePage.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(e){e.remove()}),this.$node.parentNode.removeChild(this.$node),this.events["remove"]&&this.emit("remove"),this.events={},this.name,this.id,this.name,this.id},a.prototype.focus=function(e){var t=o.activePage,i=t.activeComponent;return!(!this.focusable||this===i)&&(i&&i.blur(),t.activeComponent=i=this,i.$node.classList.add("focus"),this.name,this.id,this.name,this.id,i.events["focus"]&&i.emit("focus",e),!0)},a.prototype.blur=function(){var e=o.activePage,t=e.activeComponent;return this.$node.classList.remove("focus"),this===t?(e.activeComponent=null,this.name,this.id,this.name,this.id,this.events["blur"]&&this.emit("blur"),!0):(this.name,this.id,this.name,this.id,!1)},a.prototype.show=function(e,t){return!this.visible&&(this.$node.classList.remove("hidden"),this.visible=!0,this.name,this.id,this.name,this.id,this.events["show"]&&this.emit("show",e),"function"==typeof t&&setTimeout(t),!0)},a.prototype.hide=function(e){return!!this.visible&&(this.$node.classList.add("hidden"),this.visible=!1,this.name,this.id,this.name,this.id,this.events["hide"]&&this.emit("hide"),"function"==typeof e&&setTimeout(e),!0)},e.exports=a},function(e,t,i){"use strict";var o=i(5),s=i(18).parse,n=new o;n.query=s(document.location.search.substring(1)),n.config=i(19),n.activePage=null,n.route=function(e,t){var i,o=n.activePage;return!(!e||e.active)&&(e.name,e.id,e.name,e.id,(i=n.activePage)&&i.active&&(i.$node.classList.remove("active"),i.active=!1,n.activePage=null,i.name,i.id,i.name,i.id,i.events["hide"]&&i.emit("hide")),function(e,t){!e||e.active||(e.$node.classList.add("active"),e.active=!0,n.activePage=e,e.name,e.id,e.name,e.id,e.events["show"]&&e.emit("show",{data:t}))}(e,t),this.events["route"]&&this.emit("route",{from:o,to:e}),!0)},e.exports=n},function(e,t,i){"use strict";function o(){this.events={}}o.prototype={addListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},once:function(e,t){var i=this;this.events[e]=this.events[e]||[],this.events[e].push(function o(){i.removeListener(e,o),t.apply(i,arguments)})},addListeners:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.addListener(t,e[t])},removeListener:function(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}),0===this.events[e].length&&(this.events[e]=void 0))},emit:function(e){var t,i=this.events[e];if(i)for(t=0;t<i.length;t++)i[t].apply(this,Array.prototype.slice.call(arguments,1))}},o.prototype.constructor=o,e.exports=o},function(e,t,i){"use strict";e.exports=i(33),e.exports.prototype.name="stb-component-page"},function(e,t,i){"use strict";e.exports=i(3)},function(e,t,i){"use strict";var o=i(2),s=i(0),n=i(15),a=i(49),r=i(14),c=null,l=new n({title:gettext("Exit from application?"),visible:!1,className:"popup",children:[new r({className:"plaintext"}),new a({className:"padded",size:1,focusIndex:1,data:[{items:[{className:"centeredText",value:gettext("Close")}],click:function(){window.top.platformApi.exit(),setTimeout(function(){l.hide()},0)}}],events:{keydown:function(e){a.prototype.defaultEvents.keydown.call(this,e),e.code===s.back&&(e.stop=!0,setTimeout(function(){l.hide()},0))}}})],events:{show:function(){c=o.activePage.activeComponent,this.children[1].focus()},hide:function(){c.focus()}}});l.children[0].$body.innerText=gettext("The OK button will become active when you finish reading the End-User License Agreement"),e.exports=l},function(e,t,i){"use strict";e.exports={backspace:8,tab:9,enter:13,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46}},function(e,t,i){"use strict";e.exports=i(34),e.exports.prototype.name="stb-component-button"},function(e,t,i){"use strict";var o=i(4);e.exports=function(e){var t=document.createElement("link");t.rel="stylesheet",t.href="css/"+e+"."+o.metrics.height+".css",document.head.appendChild(t)}},function(e,t,i){"use strict";var o,s=i(2);function n(e){if(this.store={},Object.defineProperty(this,"prefix",{get:function(){return e+".storage"}}),this.originJSON=o[this.prefix],this.originJSON)try{this.store=JSON.parse(this.originJSON)}catch(e){this.originJSON=""}}n.init=function(e){o=e},n.prototype.getItem=function(e){return this.store[e]},n.prototype.setItem=function(e,t){var i;this.store[e]=t,(i=JSON.stringify(this.store))!==this.originJSON&&(o[this.prefix]=this.originJSON=i),s.stalker.request("storage/",{method:"POST",async:!0,body:JSON.stringify({key:"applications-storage",value:JSON.stringify(o)})})},e.exports=n},function(e,t,i){"use strict";var o=i(14),s=i(0);function n(e){this.value=e.value||"",this.placeholder=e.placeholder||"",this.size=e.size||0,this.scheme=e.scheme||"",this.textVisible=!0,this.$textVisibilityToggle=null,e.focusable=!0,this.defaultEvents=n.defaultEvents,this.type=e.type||"text",o.call(this,e),this.$node.classList.add(this.type),this.$body=this.$node.appendChild(document.createElement("div")),this.$body.className="fake-input-text-node",this.value?this.$body.textContent=e.value:this.placeholder&&(this.$node.classList.add("placeholder"),this.$body.textContent=e.placeholder),this.$node.classList.add("fake-input"),e.placeholder&&(this.$style=document.head.appendChild(document.createElement("style")),this.$style.textContent="#"+this.$node.id+':before { color: #23548c; content: "'+e.placeholder+'";}'),"password"===this.type&&(this.textVisible=!1,this.$textVisibilityToggle=this.$node.appendChild(document.createElement("div")),this.$textVisibilityToggle.className="text-visibility-toggle",this.$textVisibilityToggle.focus=!1,this.placeholder||(this.$body.style.cssText="-webkit-text-security: disc;"))}n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.setValue=function(e){this.size&&e.length>this.size&&(e=e.substring(0,this.size)),e?(this.value=this.$body.textContent=e,this.$node.classList.remove("placeholder"),"password"!==this.type||this.textVisible||(this.$body.style.cssText="-webkit-text-security: disc;")):this.placeholder?(this.$node.classList.add("placeholder"),this.$body.style.cssText="",this.$body.textContent=this.placeholder,this.value=""):this.value="",this.$body.scrollLeft=3e5},n.defaultEvents={keydown:function(e){switch(e.code){case s.ok:this.emit("click");break;case s.right:null===this.$textVisibilityToggle||this.$textVisibilityToggle.focus||(this.$textVisibilityToggle.focus=!0,this.$node.classList.remove("focus"),this.textVisible?this.$textVisibilityToggle.className="text-visibility-toggle focus-visible":this.$textVisibilityToggle.className="text-visibility-toggle focus-invisible");break;case s.left:null!==this.$textVisibilityToggle&&this.$textVisibilityToggle.focus&&(this.$textVisibilityToggle.focus=!1,this.$node.classList.add("focus"),this.textVisible?this.$textVisibilityToggle.className="text-visibility-toggle visible":this.$textVisibilityToggle.className="text-visibility-toggle")}},focus:function(){this.placeholder&&(this.$style.innerText="#"+this.$node.id+':before { color: #23548c; content: "'+this.placeholder+'";}')},blur:function(){this.placeholder&&(this.$style.innerText="#"+this.$node.id+':before { content: "'+this.placeholder+'";}'),null!==this.$textVisibilityToggle&&this.$textVisibilityToggle.focus&&(this.$textVisibilityToggle.focus=!1,this.textVisible?this.$textVisibilityToggle.className="text-visibility-toggle visible":this.$textVisibilityToggle.className="text-visibility-toggle")},click:function(){var e=this;null!==this.$textVisibilityToggle&&this.$textVisibilityToggle.focus?(this.textVisible=!this.textVisible,this.value&&(this.textVisible?(this.$textVisibilityToggle.className="text-visibility-toggle focus-visible",this.$body.style.cssText=""):(this.$textVisibilityToggle.className="text-visibility-toggle focus-invisible",this.$body.style.cssText="-webkit-text-security: disc;"))):window.core.intent({action:"keyboard",data:{type:e.type,language:window.core.environment.language,value:e.value||e.scheme,title:e.title},events:{done:function(t){e.setValue(t.value)},close:function(){window.core.call("focus")}}},function(e,t){})}},e.exports=n},function(e,t,i){"use strict";e.exports=i(35),e.exports.prototype.name="stb-component-panel"},function(e,t,i){"use strict";var o=i(43),s=i(7),n=i(0);function a(e){var t,i,s,a=this;(e=e||{}).events=e.events||{},e.focusable=e.focusable||!1,e.visible=e.visible||!1,e.events.click=e.events.click||function(){a.hide()},s=e.events.keydown,e.events.keydown=function(e){s&&s.call(this,e),e.code!==n.back&&e.code!==n.menu||(e.stop=!0,a.hide())},o.call(this,e),this.$node.appendChild(document.createElement("div")),this.$node.firstChild.classList.add("alignBox"),this.$node.firstChild.appendChild(document.createElement("div")),this.$header=document.createElement("div"),this.$header.className="header",this.$text=this.$header.appendChild(document.createElement("div")),this.$text.classList.add("text"),this.$text.innerText=e.title||"",e.icon&&(this.$icon=this.$header.appendChild(document.createElement("div")),this.$icon.className="icon "+e.icon),(t=document.createElement("div")).className="overlay",i=this.$body.parentNode.removeChild(this.$body),this.$node.firstChild.firstChild.appendChild(this.$header),this.$node.firstChild.firstChild.appendChild(i),this.$node.firstChild.firstChild.appendChild(t)}a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype.name="mag-component-modal",a.prototype.focus=function(){this.$node.classList.add("active"),o.prototype.focus.call(this),this.children[0]&&this.children[0]instanceof s&&this.children[0].focus()},a.prototype.blur=function(){this.$node.classList.remove("active"),o.prototype.blur.call(this)},e.exports=a},function(e,t,i){"use strict";var o=i(2),s=i(25),n=null;function a(e){setTimeout(function(){o.stalker.request("users/"+o.stalker.session.userId+"/ping",{onload:function(t,s){var n;t||s&&s.data&&s.data.message_available&&(n=i(1).instance,o.stalker.request("message",{onload:function(e,t){if(!e&&t.data.type)switch(n.emit("message",t.data),t.data.type){case"reboot":window.core.notify({title:"Reboot",icon:"info",type:"success",timeout:7e3}),setTimeout(function(){window.top.gSTB.ExecAction("reboot")},7e3);break;case"send_msg":window.core.notify({title:t.data.msg,icon:"info",type:"success",timeout:7e3});break;case"send_msg_with_video":window.core.notify({title:t.data.msg,icon:"info",type:"success",buttons:[{value:gettext("Ok"),click:function(){window.core.intent({action:"play",mime:"content/media",data:{uri:t.data.url}},function(e,t){})}}]})}}})),a(e)}})},e)}o.storage={},window.fetch=function(){return n||(n=XMLHttpRequest),new n},o.once("load",function(){window.core.once("ready",function(e){var t={},s=window.core.config.options,n=window.core.config.apps.filter(function(e){return"app"===e.type&&(t[e.packageName]=e,!0)}).length;if(i(1).instance.session=o.stalker.session,0===n&&void 0!==s.stalkerLoaderPath)return e.stop=!0,void("function"==typeof window.core.redirectTo&&window.core.redirectTo(s.stalkerHost+s.stalkerLoaderPath));a(window.core.config.options.pingTimeout)}),i(26).load({name:core.environment.language},function(){var e;window.addEventListener("online",function(){window.core.notify({title:gettext("Network connected"),icon:"info",type:"success",timeout:1e4})}),window.addEventListener("offline",function(){window.core.notify({title:gettext("Network disconnected"),icon:"info",type:"success",timeout:1e4})}),e=core.plugins.ufsJson.loadSync(),i(28)({apiVersion:s.config.apiVersion,options:window.core.config.options,session:e})})})},function(e,t,i){"use strict";var o=i(4),s=i(20);window.core=window.parent.getCoreInstance(window,o),i(21),i(22),i(11)("sdk"),i(24),i(11)("app"),o.platform="mag",o.ready=function(){window.core.call("app:ready")},o.exit=function(){o.events["exit"]&&o.emit("exit"),core.call("exit")},s.load=function(e){document.body.setAttribute("platform",o.platform),core.ready?o.events["load"]&&o.emit("load",{}):core.once("load",function(){o.events[e.type]&&o.emit(e.type,e)})},s.contextmenu=function(e){e.preventDefault()},Object.keys(s).forEach(function(e){window.addEventListener(e,s[e])}),e.exports=o},function(e,t,i){"use strict";e.exports={parse:function(e){var t={};return e.split("&").forEach(function(e){2===(e=e.split("=")).length&&(t[e[0]]=decodeURIComponent(e[1]))}),t},stringify:function(e){var t=[];return Object.keys(e).forEach(function(i){t.push(i+"="+encodeURIComponent(e[i]))}),t.join("&")}}},function(e,t,i){"use strict";e.exports={}},function(e,t,i){"use strict";var o=i(4);e.exports={DOMContentLoaded:function(e){o.events["dom"]&&o.emit("dom",e)},load:function(e){o.events[e.type]&&o.emit(e.type,e)},unload:function(e){o.events[e.type]&&o.emit(e.type,e)},error:function(e){},keydown:function(e){var t,i=o.activePage,s={code:e.keyCode,stop:!1};e.ctrlKey&&(s.code+="c"),e.altKey&&(s.code+="a"),e.shiftKey&&(s.code+="s"),(t=i.activeComponent)&&t!==i&&(t.events[e.type]&&t.emit(e.type,s,e),!s.stop&&t.propagate&&t.parent&&t.parent.events[e.type]&&t.parent.emit(e.type,s,e)),s.stop||(i.events[e.type]&&i.emit(e.type,s,e),e.stop||o.events[e.type]&&o.emit(e.type,s,e))},keypress:function(e){var t=o.activePage;t.activeComponent&&t.activeComponent!==t&&t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e)},mousewheel:function(e){var t=o.activePage;t.activeComponent&&t.activeComponent!==t&&t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e),e.stop||t.events[e.type]&&t.emit(e.type,e)}}},function(e,t,i){"use strict";if(!document.documentElement.classList){var o=Array.prototype,s=o.indexOf,n=o.slice,a=o.push,r=o.splice,c=o.join;window.DOMTokenList=function(e){if(this._element=e,e.className!==this._classCache){if(this._classCache=e.className,!this._classCache)return;var t,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(t=0;t<i.length;t++)a.call(this,i[t])}},window.DOMTokenList.prototype={add:function(e){this.contains(e)||(a.call(this,e),this._element.className=n.call(this,0).join(" "))},contains:function(e){return-1!==s.call(this,e)},item:function(e){return this[e]||null},remove:function(e){var t=s.call(this,e);-1!==t&&(r.call(this,t,1),this._element.className=n.call(this,0).join(" "))},toString:function(){return c.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(e,t,i){"use strict";var o=i(4),s=i(23);o.metrics=s[o.query.screenHeight]||s[screen.height]||s[720],o.metrics.availHeight=o.metrics.height-(o.metrics.availTop+o.metrics.availBottom),o.metrics.availWidth=o.metrics.width-(o.metrics.availLeft+o.metrics.availRight)},function(e,t,i){"use strict";e.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48},576:{height:576,width:720,availTop:24,availBottom:24,availRight:26,availLeft:54},720:{height:720,width:1280,availTop:30,availBottom:30,availRight:40,availLeft:40},1080:{height:1080,width:1920,availTop:45,availBottom:45,availRight:60,availLeft:60}}},function(e,t,i){"use strict";var o,s=i(4);(o=document.createElement("link")).rel="stylesheet",o.href=window.core.theme.path+s.metrics.height+".css",document.head.appendChild(o),e.exports=o},function(e){e.exports={"dependencies":{"magcore-core":"^3.2.0","magcore-osd-base":"^2.2.2","magcore-plugin-ufs-json":"^2.1.1"},"config":{"type":"auth","name":"Authorization","description":"Authorization application","unique":!0,"apiVersion":"1.0.1","uris":{"app":"/","entry":"index.html","icons":{480:{"logoNormal":"img/480/normal.png","logoActive":"img/480/active.png"},576:{"logoNormal":"img/576/normal.png","logoActive":"img/576/active.png"},720:{"logoNormal":"img/720/normal.png","logoActive":"img/720/active.png"},1080:{"logoNormal":"img/1080/normal.png","logoActive":"img/1080/active.png"}}},"platforms":{"exclude":{"AndroidSTB":{"MAG425A":"*"},"emulator_stb":{"MAG425A":"*"}}}}}},function(e,t,i){"use strict";var o=i(5),s=i(27),n=new o;function a(e){var t=new s(e);return window.gettext=window._=t.gettext,window.pgettext=t.pgettext,window.ngettext=t.ngettext,t}n.defaultLanguage="en",n.load=function(e,t){var i;return e.ext=e.ext||"json",e.path=e.path||"lang",e.name===n.defaultLanguage?(a(),t(null),!1):((i=new XMLHttpRequest).onload=function(){try{a(JSON.parse(i.responseText)),t(null),n.events["load"]&&n.emit("load")}catch(e){i.onerror(e)}},i.ontimeout=i.onerror=function(e){a(),t(e),n.events["error"]&&n.emit("error",e)},i.open("GET",e.path+"/"+e.name+"."+e.ext,!0),i.send(null),!0)},e.exports=n},function(module,exports,__webpack_require__){"use strict";function Gettext(config){var data,meta;config=config||{},data=config.data||{},data[""]=data[""]||{},meta=config.meta,this.gettext=function(e){return data[""][e]||e},this.pgettext=function(e,t){return data[e]&&data[e][t]||t},this.ngettext=function(msgId,plural,value){var n,evalResult;return data&&meta&&data[""][msgId]?(evalResult=eval("n = "+value+"; "+meta.plural),"boolean"==typeof evalResult&&(evalResult=+evalResult),data[""][msgId][evalResult]):1===value?msgId:plural}}Gettext.prototype.constructor=Gettext,module.exports=Gettext},function(module,exports,__webpack_require__){"use strict";var app=__webpack_require__(2),md5=__webpack_require__(29),xorString=__webpack_require__(30),parallel=__webpack_require__(31),storageKey="applications-storage",currentSessions=[],userFsStorage=core.storage,loader;function loadTheme(e){var t=core.config.options,i=new XMLHttpRequest;i.open("GET",t.stalkerHost+"/stalker_portal/server/api/launcher_profile.php?language=en&uid="+app.stalker.session.userId),i.onload=function(){var o=null;try{o=JSON.parse(this.responseText)}catch(e){}null!==o&&o.options.themePath&&(o.theme={path:t.stalkerHost+"/stalker_portal/server/api/theme_css.php?uid="+app.stalker.session.userId+"&_="+Date.now()+"&resolution=",vars:null},(i=new XMLHttpRequest).open("GET",o.theme.path+window.screen.height),i.onload=function(){200===this.status&&parent.extendCorePrototype("theme",o.theme),e()},i.onerror=i.ontimeout=function(){e()},i.send())},i.onerror=i.ontimeout=function(){e()},i.send()}function loadModules(e){app.stalker.request("modules",{onload:function(t,i){var o=core.packages,s=[];!t&&i&&(o.forEach(function(e){var t;"app"===e.type?(t=e.packageName,-1!==i.data.indexOf(t)&&s.push(e)):s.push(e)}),core.updatePackages(s)),e()},ontimeout:e,onerror:e})}function loadStorage(e){app.stalker.request("storage/"+storageKey,{onload:function(t,i){var o=__webpack_require__(12);t?(app.stalker.request("storage/",{method:"POST",body:JSON.stringify({key:storageKey,value:"{}"})}),o.init({})):o.init(JSON.parse(i.data.value)),parent.extendCorePrototype("Storage",o),e()},onerror:e,ontimeout:e})}function setHomeApp(e){var t,i="magcore-app-tv-classic",o="magcore-app-tv",s=core.packageMap[i],n=core.packageMap[o];return(t=userFsStorage.getItem("homeApp"))&&core.packageMap[t]?core.taskManager.setHomeApp(core.packageMap[t]):"last_channel"===e.show_after_loading&&(t?t===o&&n?(userFsStorage.setItem("homeApp",n.packageName),t=n.packageName,core.taskManager.setHomeApp(n)):t===i&&s?(userFsStorage.setItem("homeApp",s.packageName),t=s.packageName,core.taskManager.setHomeApp(s)):t===o&&!n&&s?(userFsStorage.setItem("homeApp",s.packageName),t=s,core.taskManager.setHomeApp(s)):t===i&&!s&&n?(userFsStorage.setItem("homeApp",n.packageName),t=n.packageName,core.taskManager.setHomeApp(n)):n&&s?(t=s.packageName,core.taskManager.setHomeApp(s)):core.packageMap[t]&&core.taskManager.setHomeApp(core.packageMap[t]):s?(userFsStorage.setItem("homeApp",i),t=i,core.taskManager.setHomeApp(s)):n&&(userFsStorage.setItem("homeApp",o),t=o,core.taskManager.setHomeApp(n))),t}function loadSettings(e){function t(){__webpack_require__(1).instance.settings={},e()}app.stalker.request("users/"+app.stalker.session.userId+"/settings",{onload:function(t,i){var o=__webpack_require__(1);!t&&i&&(app.parentPassword=i.data.parent_password,core.environment.audioPrimaryLanguage=i.data.pri_audio_lang||i.data.languages[0],core.environment.audioSecondaryLanguage=i.data.sec_audio_lang||i.data.languages[1],core.environment.subtitlesPrimaryLanguage=i.data.pri_subtitle_lang||i.data.languages[0],core.environment.subtitlesSecondaryLanguage=i.data.sec_subtitle_lang||i.data.languages[1],o.instance.settings=i.data,o.instance.settings.homeApp=setHomeApp(i.data),o.instance.settings.setHomeApp=function(e,t){var i;i=e?"last_channel":"main_menu",o.instance.settings.homeApp=e,userFsStorage.setItem("homeApp",e),core.backend.request("users/"+core.backend.session.userId+"/settings",{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"PUT",onload:function(e,s){o.instance.settings["show_after_loading"]=i,t(e,s)},onerror:function(){t(!0)},body:"show_after_loading="+i})},parent.extendCorePrototype("environment",core.environment)),e()},onerror:t,ontimeout:t})}function loadUserData(){var e=[loadTheme,loadStorage];parallel(e,function(){loadSettings(function(){core.events.show=null,core.emit("ready",{stop:!1}),setTimeout(function(){__webpack_require__(1).instance.emit("ready")},0)})})}function onStalkerCodeLoad(e,t){var i,o=__webpack_require__(1).instance;for(i in t)o[i]=t[i];app.stalker=t,null===app.stalker.host&&e.options.stalkerApiPath&&(-1===e.options.stalkerApiPath.indexOf("://")?app.stalker.host=e.options.stalkerHost+e.options.stalkerApiPath:app.stalker.host=e.options.stalkerApiPath),null===app.stalker.authHost&&e.options.stalkerApiPath&&(-1===e.options.stalkerApiPath.indexOf("://")?app.stalker.authHost=e.options.stalkerHost+e.options.stalkerAuthPath:app.stalker.authHost=e.options.stalkerAuthPath),app.stalker.lang=core.environment.language,app.stalker.saveCallback=function(){core.plugins.ufsJson.saveSync(app.stalker.session)},app.stalker.reload=function(){core.reload(e.options.stalkerHost+e.options.stalkerLoaderPath)},app.stalker.onfail=function(e){0},e.options.stalkerHost?app.pages={main:__webpack_require__(32),accountDisabled:__webpack_require__(36)}:app.pages={main:__webpack_require__(37),eula:__webpack_require__(41)},app.route(app.pages.main),o.host=e.options.stalkerHost+"/",o.request=app.stalker.request,o.session=e.session,parent.extendCorePrototype("backend",o),parent.extendCorePrototype("stalker",o),parent.addIntentHook("play",function(e,t){t&&t.config&&t.config.resource&&e.data.mediaId&&core.backend.request("media-info/",{method:"POST",body:JSON.stringify({type:e.data.resource||t.config.resource,media_id:e.data.mediaId,current_sessions:currentSessions}),onload:function(t,i){var o,s;t||(o=i.data.session_id,currentSessions.push(o),s=function(){var e=currentSessions.indexOf(o);currentSessions.splice(e,1),core.backend.request("media-info/"+o,{method:"DELETE"})},e.once("close",function(){e.data&&e.data.persistent||s()}),e.once("hide",s),e.once("exit",s),e.once("end",s),e.once("error",s))}})}),null===core.config.options.userId?app.stalker.oncredenitalsrequired(function(){core.redirectTo(e.options.stalkerHost+e.options.stalkerLoaderPath)}):e.session&&e.session.accessToken&&e.session.userId?(app.stalker.session=e.session,app.stalker.request("users/"+app.stalker.session.userId+"/ping",{onload:function(e,t){loadUserData()},onerror:function(e){loadUserData()},ontimeout:function(e){loadUserData()}})):e.session&&e.session.refreshToken?app.stalker.auth.refreshToken(e.session.refreshToken,function(e){e?app.stalker.auth.login({password:"",login:""},function(e,t){e?app.stalker.oncredenitalsrequired():loadUserData()}):loadUserData()}):app.stalker.auth.login({password:"",login:""},function(e,t){if(e){if("Account disabled"===e.error_description)return void app.stalker.oncredenitalsrequired(function(){app.stalker.reload()},{error:e});app.stalker.oncredenitalsrequired(function(){loadUserData()})}else loadUserData()})}loader=function(config){var client;client=fetch(),client.open("GET",config.options.sap+"?version="+config.apiVersion),client.onload=function(){var instance={},data,key,md5Key,rawData;data=this.responseText.split("."),key=atob(data.shift()),md5Key=md5(key),rawData=atob(data[0]),key=core.tools.hash(key,md5Key),data=xorString(rawData,key),data=data.replace(/gSTB/g,"window.top.gSTB");try{instance=eval(data)}catch(e){}onStalkerCodeLoad(config,instance)},client.onerror=function(){},client.send()},module.exports=loader},function(e,t,i){"use strict";function o(e,t){var i=e[0],o=e[1],s=e[2],l=e[3];i=n(i,o,s,l,t[0],7,-680876936),l=n(l,i,o,s,t[1],12,-389564586),s=n(s,l,i,o,t[2],17,606105819),o=n(o,s,l,i,t[3],22,-1044525330),i=n(i,o,s,l,t[4],7,-176418897),l=n(l,i,o,s,t[5],12,1200080426),s=n(s,l,i,o,t[6],17,-1473231341),o=n(o,s,l,i,t[7],22,-45705983),i=n(i,o,s,l,t[8],7,1770035416),l=n(l,i,o,s,t[9],12,-1958414417),s=n(s,l,i,o,t[10],17,-42063),o=n(o,s,l,i,t[11],22,-1990404162),i=n(i,o,s,l,t[12],7,1804603682),l=n(l,i,o,s,t[13],12,-40341101),s=n(s,l,i,o,t[14],17,-1502002290),i=a(i,o=n(o,s,l,i,t[15],22,1236535329),s,l,t[1],5,-165796510),l=a(l,i,o,s,t[6],9,-1069501632),s=a(s,l,i,o,t[11],14,643717713),o=a(o,s,l,i,t[0],20,-373897302),i=a(i,o,s,l,t[5],5,-701558691),l=a(l,i,o,s,t[10],9,38016083),s=a(s,l,i,o,t[15],14,-660478335),o=a(o,s,l,i,t[4],20,-405537848),i=a(i,o,s,l,t[9],5,568446438),l=a(l,i,o,s,t[14],9,-1019803690),s=a(s,l,i,o,t[3],14,-187363961),o=a(o,s,l,i,t[8],20,1163531501),i=a(i,o,s,l,t[13],5,-1444681467),l=a(l,i,o,s,t[2],9,-51403784),s=a(s,l,i,o,t[7],14,1735328473),i=r(i,o=a(o,s,l,i,t[12],20,-1926607734),s,l,t[5],4,-378558),l=r(l,i,o,s,t[8],11,-2022574463),s=r(s,l,i,o,t[11],16,1839030562),o=r(o,s,l,i,t[14],23,-35309556),i=r(i,o,s,l,t[1],4,-1530992060),l=r(l,i,o,s,t[4],11,1272893353),s=r(s,l,i,o,t[7],16,-155497632),o=r(o,s,l,i,t[10],23,-1094730640),i=r(i,o,s,l,t[13],4,681279174),l=r(l,i,o,s,t[0],11,-358537222),s=r(s,l,i,o,t[3],16,-722521979),o=r(o,s,l,i,t[6],23,76029189),i=r(i,o,s,l,t[9],4,-640364487),l=r(l,i,o,s,t[12],11,-421815835),s=r(s,l,i,o,t[15],16,530742520),i=c(i,o=r(o,s,l,i,t[2],23,-995338651),s,l,t[0],6,-198630844),l=c(l,i,o,s,t[7],10,1126891415),s=c(s,l,i,o,t[14],15,-1416354905),o=c(o,s,l,i,t[5],21,-57434055),i=c(i,o,s,l,t[12],6,1700485571),l=c(l,i,o,s,t[3],10,-1894986606),s=c(s,l,i,o,t[10],15,-1051523),o=c(o,s,l,i,t[1],21,-2054922799),i=c(i,o,s,l,t[8],6,1873313359),l=c(l,i,o,s,t[15],10,-30611744),s=c(s,l,i,o,t[6],15,-1560198380),o=c(o,s,l,i,t[13],21,1309151649),i=c(i,o,s,l,t[4],6,-145523070),l=c(l,i,o,s,t[11],10,-1120210379),s=c(s,l,i,o,t[2],15,718787259),o=c(o,s,l,i,t[9],21,-343485551),e[0]=m(i,e[0]),e[1]=m(o,e[1]),e[2]=m(s,e[2]),e[3]=m(l,e[3])}function s(e,t,i,o,s,n){return t=m(m(t,e),m(o,n)),m(t<<s|t>>>32-s,i)}function n(e,t,i,o,n,a,r){return s(t&i|~t&o,e,t,n,a,r)}function a(e,t,i,o,n,a,r){return s(t&o|i&~o,e,t,n,a,r)}function r(e,t,i,o,n,a,r){return s(t^i^o,e,t,n,a,r)}function c(e,t,i,o,n,a,r){return s(i^(t|~o),e,t,n,a,r)}function l(e){var t,i=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)o(s,d(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(o(s,n),t=0;t<16;t++)n[t]=0;return n[14]=8*i,o(s,n),s}function d(e){var t,i=[];for(t=0;t<64;t+=4)i[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return i}var h="0123456789abcdef".split("");function u(e){for(var t="",i=0;i<4;i++)t+=h[e>>8*i+4&15]+h[e>>8*i&15];return t}function p(e){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e.join("")}var m=function(e,t){return e+t&4294967295};"5d41402abc4b2a76b9719d911017c592"!==p(l("hello"))&&(m=function(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}),e.exports=function(e){return p(l(e))}},function(e,t,i){"use strict";e.exports=function(e,t){var i,o=0,s=e.length,n=[];for(n.length=s;o<s;)i=o%t.length,n[o]=String.fromCharCode(e.charCodeAt(o)^t.charCodeAt(i)),++o;return n.join("")}},function(e,t,i){"use strict";e.exports=function(e,t){var i=!1,o=0,s=[];e=Array.isArray(e)?e:[],"function"!=typeof t&&(t=function(){}),0===e.length?t(null,s):e.forEach(function(n,a){var r=function(n,r){if(!i){if(n)return i=!0,void t(n);if(s[a]=r,++o===e.length)t(null,s);else if(o>e.length)throw Error("done callback invoked more than one time in function with "+a+" position in tasks array")}};0===n.length?r(null,n()):n(r)})}},function(e,t,i){"use strict";var o,s,n,a=i(2),r=i(0),c=i(6),l=i(10),d=i(13),h=new c({$node:document.getElementById("pageLogin")}),u=document.getElementById("plLabelError"),p=null;o=new d({$node:window.plInputLogin,placeholder:gettext("Login"),events:{keydown:function(e){switch(d.defaultEvents.keydown.call(this,e),e.code){case r.down:n.focus()}}}}),s=new l({$node:window.plButtonSubmit,value:gettext("Sign in")}),n=new d({$node:window.plInputPassword,placeholder:gettext("Password"),type:"password",events:{keydown:function(e){switch(d.defaultEvents.keydown.call(this,e),e.code){case r.down:s.focus();break;case r.up:o.focus()}}}}),o.title=gettext("Enter login"),n.title=gettext("Enter password"),a.stalker.oncredenitalsrequired=function(e,t){if(i(1).instance.withCredentials=!0,p=e,t){switch(t.error.error_description){case"Account disabled":u.innerText=gettext("Account disabled"),u.className="visible";break;default:u.innerText=gettext(t.error.error_description),u.className="visible"}o.focus()}core.taskManager.setLauncher(window),core.taskManager.hideAll()},h.addListener("show",function(){o.focus()}),s.addListener("keydown",function(e){e.code===r.up&&n.focus()}),s.addListener("click",function(){u.className="",0===o.value.length?(u.innerText=gettext("Error.")+" "+gettext("Please, input login"),u.className="visible",o.focus()):0===n.value.length?(u.innerText=gettext("Error.")+" "+gettext("Please, input password"),u.className="visible",n.focus()):a.stalker.auth.login({password:n.value,login:o.value},function(e,t){e?(t.error_description,u.innerText=gettext(t.error_description),u.className="visible",o.focus()):(core.call("hide"),core.call("blur"),p?(p(),p=null):(core.events.show=null,core.emit("ready",{stop:!1})))})}),e.exports=h},function(e,t,i){"use strict";var o=i(3);function s(e){e=e||{},this.active=!1,this.activeComponent=null,o.call(this,e),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.name="spa-component-page",e.exports=s},function(e,t,i){"use strict";var o=i(3),s=i(9);function n(e){e=e||{},o.call(this,e),e.icon&&(this.$icon=this.$body.appendChild(document.createElement("div")),this.$icon.className="icon "+e.icon),this.$text=this.$body.appendChild(document.createElement("div")),this.$text.classList.add("text"),e.value&&(this.$text.innerText=e.value)}n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.name="spa-component-button",n.prototype.clickDuration=200,n.prototype.defaultEvents={click:function(){var e=this;this.$node.classList.add("click"),setTimeout(function(){e.$node.classList.remove("click")},this.clickDuration)},keydown:function(e){e.code===s.enter&&this.events["click"]&&this.emit("click",{event:e})}},e.exports=n},function(e,t,i){"use strict";var o=i(3);function s(e){(e=e||{}).focusable=e.focusable||!1,o.call(this,e)}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.name="spa-component-panel",e.exports=s},function(e,t,i){"use strict";var o=i(6),s=i(10),n=i(0),a=new o({$node:window.pageAccountDisabled}),r=new s({$node:window.padButton,value:gettext("Restart portal"),events:{click:function(){window.top.location.reload()}}});window.padMainLabel.innerHTML=gettext("Service is not available.")+"<br>"+gettext("Please contact your service provider."),r.$text.innerText=gettext("Restart portal"),r.$node.className="ministra-button--focus",a.addListener("show",function(){setTimeout(function(){r.focus()},0)}),a.addListener("keydown",function(e){e.code===n.back&&window.native.showStart()}),e.exports=a},function(e,t,i){"use strict";var o,s,n,a,r,c,l,d,h,u,p,m=i(2),f=i(0),v=i(6),y=i(38),g=i(10),b=i(13),w=i(40),x={pmlInputLogin:{className:"",text:gettext("Please, input login")},pmlInputPassword:{className:"passwordError",text:gettext("Please, input password")},pmlServerAddress:{className:"addressError",text:gettext("Please, input portal address")},pmlInputActivateCode:{className:"licenseError",text:gettext("Please, input valid license key")}},$={login:1,password:2,serverAddress:3,licenseKey:4,loginButton:5},T="applications-storage",E=null;function I(e,t){s.setValue(e.login),s.$node.classList.remove("error"),c.setValue(e.password),c.$node.classList.remove("error"),n.setValue(e.address),n.$node.classList.remove("error"),l.setValue(e.activationCode),l.$node.classList.remove("error"),t&&(a.updateId=w.get().indexOf(e),a.$text.innerHTML=gettext("Save"),a.state="update")}function k(e){var t=d.data.length,i=void 0===e?d.data.indexOf(d.$focusItem.data)+1:e+1;window.pmlAccountListButtonScrollUp.innerText=i+"/"+t}function A(e){m.stalker.request("modules",{onload:function(t,o){var s={"magcore-app-tv":"tv","magcore-app-video-club":"vclub","magcore-app-audio-club":"audioclub","magcore-app-magic-cast":"magiccast","magcore-app-radio":"radio","magcore-app-settings":"settings","magcore-app-personal-account":"account"},n=core.packages,a=[];!t&&o&&(n.forEach(function(e){var t;"app"===e.type?((t=e.packageName.split("-")).pop(),t=t.join("-"),-1!==o.data.indexOf(s[t])&&a.push(e)):a.push(e)}),core.updatePackages(a)),function(e,t){m.stalker.request("storage/"+T,{onload:function(e,o){e?(m.stalker.request("storage/",{method:"POST",body:JSON.stringify({key:T,value:"{}"})}),window.storage={}):window.storage=JSON.parse(o.data.value),m.stalker.request("users/"+m.stalker.session.userId+"/settings",{onload:function(e,o){var s={},n=i(1);core.config.apps.forEach(function(e){return"app"===e.type&&(s[e.packageName]=e,!0)}),!e&&o&&("last_channel"===o.data.show_after_loading&&s["magcore-app-tv"]&&core.taskManager.setHomeApp(s["magcore-app-tv"]),m.parentPassword=o.data.parent_password,core.environment.audioPrimaryLanguage=o.data.pri_audio_lang||o.data.languages[0],core.environment.audioSecondaryLanguage=o.data.sec_audio_lang||o.data.languages[1],core.environment.subtitlesPrimaryLanguage=o.data.pri_subtitle_lang||o.data.languages[0],core.environment.subtitlesSecondaryLanguage=o.data.sec_subtitle_lang||o.data.languages[1],n.instance.settings=o.data,parent.extendCorePrototype("environment",core.environment),i(1).instance.emit("ready")),t()},onerror:function(){t(!0)},ontimeout:function(){t(!0)}})},onerror:function(){t(!0)},ontimeout:function(){t(!0)}}),parent.extendCorePrototype("Storage",i(12))}(core.config.options,e)},onerror:function(){e(!0)},ontimeout:function(){e(!0)}})}function N(e,t){window.pmlLabelError.innerText="",window.pmlLabelError.className="",s.$node.classList.remove("error"),c.$node.classList.remove("error"),n.$node.classList.remove("error"),l.$node.classList.remove("error"),m.stalker.auth.login(e,function(e,i){window.top.console.log("login error: "+e),e?t(e,i):(E&&E(),E=null,function(e){var t=new XMLHttpRequest;t.open("GET",m.stalker.host+"/stalker_portal/server/api/launcher_profile.php?language=en&uid="+m.stalker.session.userId),t.onload=function(){var i=null;try{i=JSON.parse(this.responseText)}catch(e){}null===i?e():i.options&&i.options.themePath?(i.theme={path:m.stalker.host+"/stalker_portal/server/api/theme_css.php?uid="+m.stalker.session.userId+"&_="+Date.now()+"&resolution=",vars:null},t.open("GET",i.theme.path+window.screen.height),t.onload=function(){window.top.console.log("onload theme "+this.status),200===this.status&&parent.extendCorePrototype("theme",i.theme),e()},t.onerror=t.ontimeout=function(){e()},t.send()):e()},t.onerror=t.ontimeout=function(){e()},t.send()}(function(e){e?t(e):A(function(e){e?t(e):(core.call("hide"),core.call("blur"),core.events["show"]=null,core.emit("ready",{stop:!1}),t(null,i))})}))})}function C(e){e.preventDefault()}function L(e){E=e,core.emit("show"),core.call("show"),core.call("focus")}function O(e){window.pmlLabelError.innerText=gettext("Error.")+" "+x[e.$node.id].text,window.pmlLabelError.className="visible "+x[e.$node.id].className,e.focus(),e.$node.classList.add("error"),a.locked=!1}function S(e){switch(e){case $.login:window.pmlLabelError.className="visible",s.$node.classList.add("error"),c.$node.classList.add("error"),s.focus();break;case $.password:window.pmlLabelError.className="visible passwordError",s.$node.classList.add("error"),c.$node.classList.add("error"),s.focus();break;case $.serverAddress:window.pmlLabelError.className="visible addressError",l.focus(),l.$node.classList.add("error");break;case $.licenseKey:window.pmlLabelError.className="visible licenseError",l.focus(),l.$node.classList.add("error");break;case $.loginButton:window.pmlLabelError.className="visible unknownError"}}o=new v({focusable:!1,$node:window.pageMultiLogin}),s=new b({$node:window.pmlInputLogin,placeholder:gettext("Login"),events:{keydown:function(e){switch(b.defaultEvents.keydown.call(this,e),e.code){case f.down:this.$node.classList.remove("error"),c.$node.classList.remove("error"),c.focus(),window.pmlLabelError.innerText="",window.pmlLabelError.className=""}}}}),c=new b({$node:window.pmlInputPassword,placeholder:gettext("Password"),type:"password",events:{keydown:function(e){switch(b.defaultEvents.keydown.call(this,e),e.code){case f.down:this.$node.classList.remove("error"),n.focus();break;case f.up:this.$node.classList.remove("error"),s.focus()}}}}),n=new b({$node:window.pmlServerAddress,placeholder:gettext("Portal"),scheme:"http",events:{keydown:function(e){switch(b.defaultEvents.keydown.call(this,e),e.code){case f.down:this.$node.classList.remove("error"),l.focus(),window.pmlLabelError.innerText="",window.pmlLabelError.className="";break;case f.up:this.$node.classList.remove("error"),c.focus()}}}}),l=new b({$node:window.pmlInputActivateCode,placeholder:gettext("License key"),size:12,events:{keydown:function(e){switch(b.defaultEvents.keydown.call(this,e),e.code){case f.down:this.$node.classList.remove("error"),a.focus(),window.pmlLabelError.innerText="",window.pmlLabelError.className="";break;case f.up:this.$node.classList.remove("error"),n.focus()}}}}),p=w.get(),d=new y({$node:window.pmlAccountList,type:y.prototype.TYPE_VERTICAL,size:p.length<3?p.length:3,focusIndex:0,render:function(e,t){e.ready||(e.$buttons=[],e.$buttons.push(e.appendChild(document.createElement("div"))),e.$buttons[0].className="button account",e.$nameContainer=e.$buttons[0].appendChild(document.createElement("div")),e.$nameContainer.className="name-container",e.$nameContainer.appendChild(document.createElement("div")),e.$nameContainer.firstChild.className="label",e.$nameContainer.firstChild.innerText=gettext("Login"),e.$login=e.$nameContainer.appendChild(document.createElement("div")),e.$login.className="account",e.$buttons[0].appendChild(document.createElement("div")),e.$buttons[0].lastChild.className="theme-icon theme-icon-more",e.$buttons.push(e.appendChild(document.createElement("div"))),e.lastChild.className="button edit",e.$buttons.push(e.appendChild(document.createElement("div"))),e.lastChild.className="button remove",e.ready=!0),e.$login.innerText=t.login,e.buttonFocusIndex=0},events:{overflow:function(){},keydown:function(e){var t,i=this.$focusItem;switch(e.code){case f.right:i.buttonFocusIndex<2&&(i.$buttons[i.buttonFocusIndex].classList.remove("focus"),++i.buttonFocusIndex,i.$buttons[i.buttonFocusIndex].classList.add("focus"));break;case f.left:i.buttonFocusIndex>0&&(i.$buttons[i.buttonFocusIndex].classList.remove("focus"),--i.buttonFocusIndex,i.$buttons[i.buttonFocusIndex].classList.add("focus"));break;case f.back:window.top.platformApi.exit();break;case f.pageUp:case f.pageDown:case f.home:case f.end:0,this.move(e.code);break;case f.ok:this.emit("click:item",{$item:i,event:e});break;case f.up:setTimeout(function(){d.$node.style.opacity=""},0),d.$node.style.opacity="0.5",(t=this.data.indexOf(i.data))>0&&(this.$focusItem===this.$body.firstChild&&d.data.length>3?h.focus():(this.move(e.code),k(t-1)));break;case f.down:setTimeout(function(){d.$node.style.opacity=""},0),d.$node.style.opacity="0.5",(t=this.data.indexOf(i.data))+1<this.data.length?t>1&&d.data.length>3?u.focus():(k(t+1),this.move(e.code)):r.focus()}},"focus:item":function(e){e.$prev&&(e.$prev.$buttons[1].style.display="none",e.$prev.$buttons[2].style.display="none",e.$prev.$buttons[e.$prev.buttonFocusIndex].classList.remove("focus")),e.$curr.buttonFocusIndex=0,e.$curr.$buttons[e.$curr.buttonFocusIndex].classList.add("focus")},"click:item":function(e){var t,i,o=this;switch(e.event&&e.event.srcElement&&(e.event.srcElement===e.$item.$buttons[1]?e.$item.buttonFocusIndex=1:e.event.srcElement===e.$item.$buttons[2]?e.$item.buttonFocusIndex=2:e.$item.buttonFocusIndex=0),e.$item.buttonFocusIndex){case 0:window.pmlAuthError.className="",void 0===window.navigator.onLine||window.navigator.onLine?N(e.$item.data,function(t,i){t?("onerror 0 : "===t?(window.pmlLabelError.innerText=gettext("Portal address entered incorrectly"),window.pmlLabelError.className="visible addressError",n.focus(),n.$node.classList.add("error")):i&&i.error_description?window.pmlAuthError.innerText=i.error_description:window.pmlAuthError.innerText=gettext("Error"),e.$item===o.$body.firstChild?window.pmlAuthError.className="visible":e.$item===o.$body.lastChild?window.pmlAuthError.className="visible third":window.pmlAuthError.className="visible second"):(w.get().indexOf(e.$item.data),w.update(e.$item.data))}):(window.pmlLabelError.innerText=gettext("No network connection"),window.pmlLabelError.className="visible");break;case 1:setTimeout(function(){window.pmlAccountsContainer.className="hidden",window.pmlLabelError.className="",window.pmlFormContainer.className="",s.focus(),I(e.$item.data,!0)});break;case 2:t=this.$focusItem.index,i=this.viewIndex,this.$focusItem.$buttons[this.$focusItem.buttonFocusIndex].classList.remove("focus"),this.$focusItem=this.viewIndex=null,w.remove(e.$item.data),1===this.size?(this.data=[],window.pmlAccountsContainer.className="hidden",window.pmlLabelError.className="",window.pmlFormContainer.className="",s.focus()):this.data.length<=3?(--this.size,this.init({size:this.size,viewIndex:i,focusIndex:t,data:w.get()})):this.init({size:3,viewIndex:i,focusIndex:t,data:w.get()})}}},data:p}),a=new g({$node:window.pmlButtonSubmit,value:gettext("Login")}),r=new g({$node:window.pmlAddAccount,value:gettext("Add account")}),h=new g({$node:window.pmlAccountListButtonScrollUp,events:{click:function(){d.viewIndex>0&&(d.renderView(d.viewIndex-1),k(),0===d.viewIndex?(d.focus(),h.disabled=!0,h.$node.className="transparent"):(u.disabled=!1,u.$node.className=""))},focus:function(){this.$node.className="focus"},blur:function(){this.$node.className=""},keydown:function(e){e.code===f.ok?this.emit("click"):e.code===f.down&&d.focus()}}}),u=new g({$node:window.pmlAccountListButtonScrollDown,events:{click:function(){d.data.length>d.viewIndex+d.size&&(d.renderView(d.viewIndex+1),k(),d.viewIndex+d.size===d.data.length&&(d.focus(),u.disabled=!0,u.$node.className="transparent"),h.disabled=!1,h.$node.className="")},focus:function(){this.$node.className="focus"},blur:function(){this.$node.className=""},keydown:function(e){e.code===f.ok?this.emit("click"):e.code===f.up?d.focus():e.code===f.down&&r.focus()}}}),d.data.length>3?(u.disabled=!1,u.$node.className=""):(u.disabled=!0,u.$node.className="transparent"),h.disabled=!0,h.$node.className="transparent",s.title=gettext("Enter login"),c.title=gettext("Enter password"),n.title=gettext("Portal"),l.title=gettext("License key"),window.pmlFormDescription1.innerHTML=gettext("Request this information from your IPTV service provider"),window.pmlFormDescription2.innerHTML=gettext("Enter your License Key or buy a new one at <b>infomir.eu/pay</b>"),m.stalker.oncredenitalsrequired=function(e){var t=i(1).instance,o=w.get(),s=window.localStorage?window.localStorage.getItem("ssession"):window.top.stbStorage.getItem("ssession");if(s)try{s=JSON.parse(s)}catch(e){s=null}t.withCredentials=!0,s&&o.length>0?o.forEach(function(t,i){if(t.latest){if(void 0!==window.navigator.onLine&&!window.navigator.onLine)return window.pmlAuthError.innerText=gettext("No network connection"),void L(e);N(t,function(t,i){t&&("onerror 0 : "===t?(window.pmlLabelError.innerText=gettext("Portal address entered incorrectly"),window.pmlLabelError.className="visible addressError",n.focus(),n.$node.classList.add("error")):i&&i.error_description?window.pmlAuthError.innerText=i.error_description:window.pmlAuthError.innerText=gettext("Error"),L(e))})}else i===o.length-1&&L(e)}):L(e)},o.addListener("show",function(){w.get().length>0?(window.pmlAccountsContainer.className="",d.focus(),k(0)):(window.pmlLabelError.className="",window.pmlFormContainer.className="",s.focus(),m.licenseAgree||m.route(m.pages.eula))}),o.addListener("keydown",function(e){e.code===f.back&&(d.data.length?(o.activeComponent!==d&&o.activeComponent!==r||window.top.platformApi.exit(),a.state=null,a.$text.innerHTML=gettext("Add account"),window.pmlFormContainer.className="hidden",window.pmlAccountsContainer.className="",d.focus()):window.top.platformApi.exit())}),r.addListener("click",function(){window.pmlAccountsContainer.className="hidden",window.pmlLabelError.className="",window.pmlFormContainer.className="",s.focus(),window.pmlAuthError.className="",I({})}),r.addListener("keydown",function(e){e.code===f.up&&(window.pmlAuthError.className="",u.disabled?d.focus():u.focus())}),a.addListener("keydown",function(e){e.code===f.up&&l.focus()}),a.addListener("click",function(){var e;a.locked||(a.locked=!0,void 0!==window.navigator.onLine&&(e=setInterval(function(){0},5e3)),window.pmlLabelError.className="",0===s.value.length?O(s):0===c.value.length?O(c):0===n.value.length?O(n):0!==l.value.length&&12!==l.value.length?O(l):N({password:c.value,login:s.value,address:n.value,activationCode:l.value},function(t,i){void 0!==window.navigator.onLine&&clearInterval(e),a.locked=!1,t?"onerror 0 : "===t||"0 : "===t?(window.pmlLabelError.innerText=gettext("Portal address entered incorrectly"),window.pmlLabelError.className="visible addressError",n.focus(),n.$node.classList.add("error")):"function"==typeof t.indexOf&&-1!==t.indexOf("404")?(window.pmlLabelError.innerText=gettext("Ministra Player is compatible only with the service of IPTV providers who use Stalker Middleware 5.2 or Ministra TV platform."),window.pmlLabelError.className="visible addressError",n.focus(),n.$node.classList.add("error")):i&&i.error_description?function(e){switch(e){case"Username or password is incorrect":window.pmlLabelError.innerText=gettext("Incorrect login or password. Please try again"),S($.login);break;case"Activation code not found":case"License key not found":window.pmlLabelError.innerText=gettext("License key not found"),S($.licenseKey);break;case"Operator ID mismatch":window.pmlLabelError.innerText=gettext("The License Key doesn't work for this portal. Please contact your Key provider."),S($.licenseKey);break;case"Incorrect code. Please try again.":case"Incorrect key. Please try again.":window.pmlLabelError.innerText=gettext("Incorrect key. Please try again."),S($.licenseKey);break;case"Activation code missing":case"License key missing":window.pmlLabelError.innerText=gettext("License key missing"),S($.licenseKey);break;case"Meta data mismatch":window.pmlLabelError.innerText=gettext("The code youve entered has already been activated on another device. Please contact the code provider."),S($.licenseKey);break;case"Reached limit the number of codes for user.":window.pmlLabelError.innerText=gettext("Reached limit the number of codes for user."),S($.licenseKey);break;case"Certificate server error - unable to create certificate":case"Unable to decode certificate server response":window.pmlLabelError.innerText=gettext("The license key has not been verified. Please contact your service provider."),S($.licenseKey);break;case"Automatic activation code issuing disabled for user.":window.pmlLabelError.innerText=gettext("The license key has not been issued. Please contact your service provider."),S($.licenseKey);break;default:window.pmlLabelError.innerText=e||gettext("Error"),S($.loginButton)}}(i.error_description):(window.pmlLabelError.innerText=gettext("Error. Please try again."),window.pmlLabelError.className="visible"):("update"===a.state?(a.state=null,w.update({password:c.value,login:s.value,address:n.value,activationCode:l.value},a.updateId)):(i.activation_code&&l.setValue(i.activation_code),w.add({password:c.value,login:s.value,address:n.value,activationCode:l.value})),a.$text.innerHTML=gettext("Add account"),window.pmlFormContainer.className="hidden",p=w.get(),d.init({size:p.length<3?p.length:3,viewIndex:0,focusIndex:0,data:w.get()}),window.pmlAccountsContainer.className="",d.focus())}))}),o.addListener("show",function(){window.addEventListener("keydown",C)}),o.addListener("hide",function(){window.removeEventListener("keydown",C)}),e.exports=o},function(e,t,i){"use strict";e.exports=i(39),e.exports.prototype.name="stb-component-list"},function(e,t,i){"use strict";var o=i(3),s=i(9);function n(e){e=e||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,e.type&&(this.type=e.type),this.provider=null,this.type===this.TYPE_HORIZONTAL&&(e.className+=" horizontal"),o.call(this,e),this.init(e)}n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.name="spa-component-list",n.prototype.TYPE_VERTICAL=1,n.prototype.TYPE_HORIZONTAL=2,n.prototype.renderItemDefault=function(e,t){e.innerText=t.value},n.prototype.renderItem=n.prototype.renderItemDefault,n.prototype.defaultEvents={mousewheel:function(e){this.type===this.TYPE_VERTICAL&&e.wheelDeltaY&&this.move(e.wheelDeltaY>0?s.up:s.down),this.type===this.TYPE_HORIZONTAL&&e.wheelDeltaX&&this.move(e.wheelDeltaX>0?s.left:s.right)},keydown:function(e){switch(e.code){case s.up:case s.down:case s.right:case s.left:case s.pageUp:case s.pageDown:case s.home:case s.end:this.move(e.code);break;case s.enter:this.events["click:item"]&&this.$focusItem&&this.emit("click:item",{$item:this.$focusItem,event:e})}}},n.prototype.init=function(e){var t,i,o=this,s=this.$body.children.length,n=function(e){this.data&&(o.focusItem(this),o.events["click:item"]&&o.emit("click:item",{$item:this,event:e}))};if(void 0!==e.cycle&&(this.cycle=e.cycle),e.scroll&&(this.scroll=e.scroll),e.provider&&(this.provider=e.provider),e.render&&(this.renderItem=e.render),e.size&&(this.size=e.size),this.size!==s)for(s>0&&(this.$body.innerText=null),i=0;i<this.size;i++)(t=document.createElement("div")).index=i,t.className="item",t.addEventListener("click",n),this.$body.appendChild(t);this.provider?this.provider.get(null,function(t,i){t?o.events["data:error"]&&o.emit("data:error",t):(i&&(e.data=i,o.setData(e),o.scroll&&o.scroll.init({realSize:o.provider.maxCount,viewSize:o.provider.size,value:o.provider.head+o.provider.pos})),o.events["data:get"]&&o.emit("data:get"))}):e.data&&this.setData(e)},n.prototype.setData=function(e){e.data&&(this.data=function(e){var t;for(t=0;t<e.length;t++)"object"!=typeof e[t]&&(e[t]={value:e[t]});return e}(e.data)),this.viewIndex=null,this.$focusItem&&this.blurItem(this.$focusItem),this.scroll&&(this.provider?this.scroll.realSize!==this.provider.maxCount&&this.scroll.init({realSize:this.provider.maxCount,viewSize:this.provider.size,value:this.provider.head+this.provider.pos}):this.scroll.init({realSize:this.data.length,viewSize:this.size,value:e.viewIndex||0})),void 0!==e.focusIndex&&this.data.length?this.focusIndex(e.focusIndex):this.renderView(e.viewIndex||0)},n.prototype.renderView=function(e){var t,i,o,s,n;if(this.viewIndex!==e){for(s=this.viewIndex,this.viewIndex=n=e,i=0;i<this.size;i++)t=this.$body.children[i],(o=this.data[e])?(t.data=o,t.index=e,this.renderItem(t,o),o.mark?t.classList.add("mark"):t.classList.remove("mark")):(t.data=t.index=void 0,t.innerHTML="&nbsp;",t.ready=!1),e++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:s,currIndex:n}),this.events["select:item"]&&this.emit("select:item",{$item:t}),this.scroll&&this.scroll.scrollTo(this.provider?this.provider.head+this.provider.pos:this.viewIndex),!0}return!1},n.prototype.move=function(e){var t=this,i=!1;if(this.data.length)switch(e){case s.left:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case s.up:(i||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index>0?this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling):this.provider?this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0===o?o:t.$focusItem.index})}):(this.cycle&&this.move(s.end),this.events["overflow"]&&this.emit("overflow",{direction:e,cycle:this.cycle})));break;case s.right:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case s.down:(i||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index<this.data.length-1?this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling):this.provider?this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0===o?o:t.$focusItem.index})}):(this.cycle&&this.move(s.home),this.events["overflow"]&&this.emit("overflow",{direction:e,cycle:this.cycle})));break;case s.pageUp:if(this.provider)return void this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0})});this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild);break;case s.pageDown:if(this.provider){this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0===o?o:i.length<t.size?i.length-1:t.size-1})});break}this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]);break;case s.home:if(this.provider){this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0})});break}this.renderView(0),this.focusItem(this.$body.firstChild);break;case s.end:if(this.provider){this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0===o?o:i.length<t.size?i.length-1:t.size-1})});break}this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])}},n.prototype.focusItem=function(e){var t=this.$focusItem;return!(!e||t===e)&&(null!==t&&(t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t})),this.$focusItem=e,this.$focusItem.data=this.data[this.$focusItem.index],e.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:t,$curr:e}),this.events["select:item"]&&this.emit("select:item",{$item:e}),!0)},n.prototype.blurItem=function(e){return!!e&&(e===this.$focusItem&&(this.$focusItem=null),e.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:e}),!0)},n.prototype.focusIndex=function(e){var t=this.viewIndex||0;e>=t+this.size?(e=e<this.data.length-1?e:this.data.length-1,this.renderView(e-this.size+1),this.focusItem(this.$body.lastChild)):e<t?(e=e>0?e:0,this.renderView(e),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[e-t]))},n.prototype.markItem=function(e,t){t?e.classList.add("mark"):e.classList.remove("mark"),e.data.mark=t},e.exports=n},function(e,t,i){"use strict";var o=i(2),s=window.top.localStorage||window.top.stbStorage,n=s.getItem("accounts");if(n)try{n=JSON.parse(n)}catch(e){n=[]}else n=[];o.query.server&&(n=[{login:o.query.login,password:o.query.password,address:o.query.server,activationCode:o.query.activationCode,latest:!0}]),e.exports={get:function(){return n},add:function(e){n.forEach(function(e){e.latest=!1}),e.latest=!0,n.push(e),s.setItem("accounts",JSON.stringify(n))},update:function(e,t){n[t]&&(n[t]=e),n.forEach(function(e){e.latest=!1}),e.latest=!0,s.setItem("accounts",JSON.stringify(n))},remove:function(e){var t=n.indexOf(e);if(-1===t)for(e=JSON.stringify(e),t=0;t<n.length;){if(JSON.stringify(n[t])===e){n.splice(t,1);break}++t}else n.splice(n.indexOf(e),1);s.setItem("accounts",JSON.stringify(n))}}},function(e,t,i){"use strict";var o=i(2),s=i(6),n=i(0),a=i(42),r=i(15),c=i(45),l=i(47),d=new s({$node:window.pageEula}),h=null;function u(e){e.preventDefault()}d.once("show",function(){i(48).model(function(e,t){var s=new c;d.add(d.modal=new r({title:gettext("TERMS AND CONDITIONS OF USE"),visible:!0,className:"main",children:[d.scrollArea=new l({events:{overflow:function(e){e.direction===n.down&&d.footer.init({middle:[{code:n.back,title:gettext("Reject the license agreement"),action:function(){null===h&&(h=i(8)),h.show()}},{code:n.ok,title:gettext("Accept the license agreement"),action:function(){null!==h&&h.visible||(o.licenseAgree=!0,o.route(o.pages.main))}}]})},keydown:function(e){switch(e.code){case n.up:case n.down:this.realHeight=this.$body.offsetHeight,this.viewHeight=this.$node.offsetHeight,this.scroll.init({realSize:this.realHeight,viewSize:this.viewHeight,value:-1*this.topPosition}),this.move(e.code)}}}})],events:{hide:function(){setTimeout(function(){d.modal.show(),d.scrollArea.focus()})}}})),d.scrollArea.$node.appendChild(s.$node),d.scrollArea.$body.innerHTML="<p>Please read these Terms and Conditions of Use (the Terms) carefully before using this Ministra Player for "+t+" application (hereinafter  the Application). By using the Application, you agree to be bound by these Terms.If you do not agree to these Terms or any portion thereof, you are strictly prohibited from using the Application. </p>"+i(52),d.scrollArea.focus(),d.scrollArea.init({scroll:s,step:10}),d.footer=new a({parent:d,visible:!0,data:{middle:[{code:n.back,title:gettext("Reject the license agreement"),action:function(){i(8).show()}},{code:n.ok,disabled:!0,title:gettext("Accept the license agreement"),action:function(){}}]}}),d.add(i(8)),d.addListener("show",function(){d.scrollArea.init(),d.footer.init({middle:[{code:n.back,title:gettext("Reject the license agreement"),action:function(){i(8).show()}},{code:n.ok,title:gettext("Accept the license agreement"),disabled:!0,action:function(){d.scrollArea.move(n.down)}}]})})})}),d.addListener("show",function(){window.addEventListener("keydown",u)}),d.addListener("hide",function(){window.removeEventListener("keydown",u)}),d.addListener("keydown",function(e){e.code,n.back}),e.exports=d},function(e,t,i){"use strict";var o=i(7),s=i(0),n={};function a(e){var t=0,i=this;(e=e||{}).focusable=!1,e.visible=e.visible||!1,e.$body=document.createElement("div"),e.$body.className="body",o.call(this,e),this.tabs=[{codes:{}},{codes:{}},{codes:{}},{codes:{}}],this.tab=0,this.$table=this.$node.appendChild(document.createElement("table")),this.$table.insertRow(),this.$table.rows[0].insertCell(-1),this.$left=this.$table.rows[0].cells[0].appendChild(document.createElement("div")),this.$left.className="theme-icon",this.$table.rows[0].insertCell(-1),this.$table.rows[0].cells[1].className="central",this.tabs[t].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[t].$body.className="wrapper hidden",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",++t,this.tabs[t].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[t].$body.className="wrapper hidden",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",++t,this.tabs[t].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[t].$body.className="wrapper hidden",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",++t,this.tabs[t].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[t].$body.className="wrapper hidden",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",this.tabs[t].$body.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.className="button",this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.appendChild(document.createElement("div")),this.tabs[t].$body.lastChild.lastChild.className="title",this.$table.rows[0].insertCell(-1),this.$right=this.$table.rows[0].cells[2].appendChild(document.createElement("div")),this.$right.className="theme-icon",this.init(e.data),this.parent.addListener("keydown",function(e){var t=i.tabs[i.tab];i.visible&&t.codes[e.code]&&"function"==typeof t.codes[e.code].action&&t.codes[e.code].action()})}n[s.f1]="theme-icon-rc-f1",n[s.f2]="theme-icon-rc-f2",n[s.f3]="theme-icon-rc-f3",n[s.f4]="theme-icon-rc-f4",n[s.menu]="theme-icon-rc-menu",n[s.ok]="theme-icon-rc-ok",n[s.info]="theme-icon-rc-info",n[s.playPause]="theme-icon-rc-play-pause",n[s.back]="theme-icon-rc-back",n[s.exit]="theme-icon-rc-home",n[s.keyboard]="theme-icon-rc-vk",n[s.refresh]="theme-icon-rc-refresh",n[s.frame]="theme-icon-rc-aspect",a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype.name="mag-component-footer",a.prototype.init=function(e){var t,i,o;if(e=e||{},this.tabs[this.tab].$body.classList.add("hidden"),this.tab=e.middle&&e.middle.length?e.middle.length-1:0,(i=this.tabs[this.tab]).codes={},e.left?(this.$left.className=e.left.className||"theme-icon "+(n[e.left.code]||"theme-icon-warning"),e.left.disabled?this.$left.classList.add("disabled"):(i.codes[e.left.code]={action:e.left.action},this.$left.style.visibility="inherit",this.$left.onclick=e.left.action)):"hidden"!==this.$left.style.visibility&&(this.$left.style.visibility="hidden"),e.right?(this.$right.className=e.right.className||"theme-icon "+(n[e.right.code]||"theme-icon-warning"),e.right.disabled?this.$right.classList.add("disabled"):(i.codes[e.right.code]={action:e.right.action},this.$right.style.visibility="inherit",this.$right.onclick=e.right.action)):"hidden"!==this.$right.style.visibility&&(this.$right.style.visibility="hidden"),e.middle&&e.middle.length){for(t=0;t<e.middle.length;t++)i.codes[e.middle[t].code]={action:e.middle[t].action},e.middle[t].disabled?i.$body.children[t].classList.add("disabled"):(i.$body.children[t].classList.remove("disabled"),i.$body.children[t].onclick=e.middle[t].action),(o=i.$body.children[t].children)[0].className="iconImg "+(e.middle[t].className||"theme-icon "+(n[e.middle[t].code]||"theme-icon-warning")),o[1].innerText=e.middle[t].title||"";i.$body.classList.remove("hidden")}},e.exports=a},function(e,t,i){"use strict";e.exports=i(44),e.exports.prototype.name="stb-component-modal"},function(e,t,i){"use strict";var o=i(3);function s(e){(e=e||{}).$body=document.createElement("div"),e.$body.className="body",o.call(this,e),this.$node.appendChild(document.createElement("div").appendChild(this.$body).parentNode)}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.name="spa-component-modal",e.exports=s},function(e,t,i){"use strict";e.exports=i(46),e.exports.prototype.name="stb-component-scrollbar"},function(e,t,i){"use strict";var o=i(3);function s(e){e=e||{},this.viewSize=10,this.realSize=100,this.value=0,this.type=this.TYPE_VERTICAL,this.thumbRect=null,this.trackRect=null,e.focusable=e.focusable||!1,e.type&&(this.type=e.type),this.type===this.TYPE_HORIZONTAL&&(e.className+=" horizontal"),o.call(this,e),this.$thumb=this.$body.appendChild(document.createElement("div")),this.$thumb.className="thumb",this.init(e)}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.name="spa-component-scrollbar",s.prototype.TYPE_VERTICAL=1,s.prototype.TYPE_HORIZONTAL=2,s.prototype.init=function(e){void 0!==(e=e||{}).realSize&&(this.realSize=e.realSize),void 0!==e.viewSize&&(this.viewSize=e.viewSize),this.viewSize>=this.realSize?this.$thumb.classList.add("hidden"):this.$thumb.classList.remove("hidden"),void 0!==e.value&&this.scrollTo(e.value),this.type===this.TYPE_VERTICAL?this.$thumb.style.height=this.viewSize/this.realSize*100+"%":this.$thumb.style.width=this.viewSize/this.realSize*100+"%",this.thumbRect=this.$thumb.getBoundingClientRect(),this.trackRect=this.$node.getBoundingClientRect()},s.prototype.scrollTo=function(e){return this.value!==e&&(0!==this.thumbRect.height&&0!==this.thumbRect.width||(this.trackRect=this.$node.getBoundingClientRect(),this.thumbRect=this.$thumb.getBoundingClientRect()),this.type===this.TYPE_VERTICAL?this.$thumb.style.marginTop=(this.trackRect.height-this.thumbRect.height)*e/(this.realSize-this.viewSize)+"px":this.$thumb.style.marginLeft=(this.trackRect.width-this.thumbRect.width)*e/(this.realSize-this.viewSize)+"px",this.events["change"]&&this.emit("change",{curr:e,prev:this.value}),e>=this.realSize&&(e=this.realSize,this.events["done"]&&this.emit("done")),this.value=e,!0)},e.exports=s},function(e,t,i){"use strict";var o=i(3),s=i(0);function n(e){(e=e||{}).$body=document.createElement("div"),e.$body.className="body",this.step=5,this.realHeight=0,this.viewHeight=0,this.topPosition=0,this.scroll=null,o.call(this,e),this.$node.appendChild(this.$body),this.init(e)}n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.name="mag-component-scroll-area",n.prototype.defaultEvents={keydown:function(e){switch(e.code){case s.up:case s.down:this.move(e.code)}},mousewheel:function(e){this.move(e.wheelDeltaY>0?s.up:s.down)}},n.prototype.move=function(e){var t=screen.height,i=this.viewHeight-this.realHeight;if(i<0)switch(e){case s.down:if(this.topPosition-this.step*t/100<i)return this.scroll.scrollTo(-i),this.$body.style.top=i+"px",void this.emit("overflow",{direction:e});this.topPosition-=Math.ceil(this.step*t/100),this.scroll&&this.scroll.scrollTo(-this.topPosition),this.$body.style.top=this.topPosition+"px";break;case s.up:if(this.topPosition+this.step*t/100>0)return this.scroll.scrollTo(0),this.$body.style.top="0px",void this.emit("overflow",{direction:e});this.topPosition+=Math.ceil(this.step*t/100),this.scroll&&this.scroll.scrollTo(-this.topPosition),this.$body.style.top=this.topPosition+"px"}else this.emit("overflow",{direction:e})},n.prototype.init=function(e){e=e||{},this.realHeight=this.$body.offsetHeight,this.viewHeight=this.$node.offsetHeight,this.topPosition=0,this.$body.style.top=this.topPosition+"px",e.scroll&&(this.scroll=e.scroll),e.step&&(this.step=e.step),this.scroll&&this.scroll.init({realSize:this.realHeight,viewSize:this.viewHeight,value:this.topPosition})},e.exports=n},function(e,t,i){"use strict";var o,s=i(2);s.query.mac&&(o={network:{mac:function(e){e(null,s.query.mac)}},model:function(e){e(null,"SmartTV")},metric1:function(e){e(null,s.query.meta1)},metric2:function(e){e(null,s.query.meta2)},metric3:function(e){e(null,s.query.meta3)},clientType:function(e){e(null,s.query.clientType)}}),e.exports=o},function(e,t,i){"use strict";var o=i(50),s=i(51);function n(e){var t=this;e=e||{},this.handlers={},this.$noData=null,e.propagate=void 0===e.propagate||e.propagate,this.fixedData=e.fixedData||!1,e.$body=document.createElement("div"),e.$body.className="body",this.$noData=document.createElement("div"),this.$noData.className="noData hidden",o.call(this,e),this.$node.appendChild(this.$body),this.$node.appendChild(this.$noData),this.addListener("click:item",function(e){e.$item.layout.children.length&&!e.inner&&e.$item.layout.children[e.$item.layout.focusIndex].focus(),e.inner&&(t.focus(),t.focusItem(e.$item)),t.handlers[e.$item.index]&&t.handlers[e.$item.index](e.$item)})}n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.name="mag-component-layout-list",n.prototype.renderItemDefault=function(e,t){var i,o,n,a,r;if(e.ready&&this.fixedData)for(r=0;r<t.items.length;r++)"string"!=typeof(a=t.items[r]).value&&void 0!==a.value||((n=e.layout.$node.childNodes[r]).innerText=a.value||"",n.className=a.className||"");else{for(;e.firstChild;)e.removeChild(e.firstChild);o={focusable:!1,data:t.items},t.className&&(o.className=t.className),i=new s(o),e.appendChild(i.$node),e.layout=i,i.parent=this,i.$parentItem=e,i.addListener("click",function(){i.parent.emit("click:item",{$item:e,inner:!0})}),t.click&&(this.handlers[e.index]=t.click),e.ready=!0}e.value=t.value||{}},n.prototype.setData=function(e){o.prototype.setData.call(this,e),e.data&&e.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},n.prototype.init=function(e){var t;o.prototype.init.call(this,e),e.noData&&(this.$noData.innerHTML="",e.noData instanceof Element?this.$noData.appendChild(e.noData):"string"==typeof e.noData&&((t=document.createElement("div")).innerText=e.noData,this.$noData.appendChild(t))),e.data&&e.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},n.prototype.renderItem=n.prototype.renderItemDefault,e.exports=n},function(e,t,i){"use strict";var o=i(7),s=i(0);function n(e){e=e||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,e.type&&(this.type=e.type),this.provider=null,this.type===this.TYPE_HORIZONTAL&&(e.className+=" horizontal"),o.call(this,e),this.init(e)}n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.name="mag-component-list",n.prototype.TYPE_VERTICAL=1,n.prototype.TYPE_HORIZONTAL=2,n.prototype.renderItemDefault=function(e,t){e.innerText=t.value},n.prototype.renderItem=n.prototype.renderItemDefault,n.prototype.defaultEvents={mousewheel:function(e){this.type===this.TYPE_VERTICAL&&e.wheelDeltaY&&this.move(e.wheelDeltaY>0?s.up:s.down),this.type===this.TYPE_HORIZONTAL&&e.wheelDeltaX&&this.move(e.wheelDeltaX>0?s.left:s.right)},keydown:function(e){switch(e.code){case s.up:case s.down:case s.right:case s.left:case s.pageUp:case s.pageDown:case s.home:case s.end:this.move(e.code);break;case s.enter:this.events["click:item"]&&this.$focusItem&&this.emit("click:item",{$item:this.$focusItem,event:e})}}},n.prototype.init=function(e){var t,i,o=this,s=this.$body.children.length,n=function(e){this.data&&(o.focusItem(this),o.events["click:item"]&&o.emit("click:item",{$item:this,event:e}))};if(void 0!==e.cycle&&(this.cycle=e.cycle),e.scroll&&(this.scroll=e.scroll),e.provider&&(this.provider=e.provider),e.render&&(this.renderItem=e.render),e.size&&(this.size=e.size),e.events&&Object.keys(e.events).forEach(function(t){o.events[t]=null,o.addListener(t,e.events[t])}),this.size!==s)for(s>0&&(this.$body.innerText=null),i=0;i<this.size;i++)(t=document.createElement("div")).index=i,t.className="item",t.addEventListener("click",n),this.$body.appendChild(t);if(this.provider){if(this.provider.blocked)return;this.provider.get(null,function(t,i){t?o.events["data:error"]&&o.emit("data:error",t):(i&&(e.data=i,o.setData(e),o.scroll&&o.scroll.init({realSize:o.provider.maxCount,viewSize:o.provider.size,value:o.provider.head+o.provider.pos})),o.events["data:get"]&&o.emit("data:get"))})}else e.data&&this.setData(e)},n.prototype.setData=function(e){e.data&&(this.data=function(e){var t;for(t=0;t<e.length;t++)"object"!=typeof e[t]&&(e[t]={value:e[t]});return e}(e.data)),this.viewIndex=null,this.$focusItem&&this.blurItem(this.$focusItem),this.scroll&&(this.provider?this.scroll.realSize!==this.provider.maxCount&&this.scroll.init({realSize:this.provider.maxCount,viewSize:this.provider.size,value:this.provider.head+this.provider.pos}):this.scroll.init({realSize:this.data.length,viewSize:this.size,value:e.viewIndex||0})),void 0!==e.focusIndex&&this.data.length?this.focusIndex(e.focusIndex):this.renderView(e.viewIndex||0)},n.prototype.renderView=function(e){var t,i,o,s,n;if(this.viewIndex!==e){for(s=this.viewIndex,this.viewIndex=n=e,i=0;i<this.size;i++)t=this.$body.children[i],(o=this.data[e])?(t.data=o,t.index=e,this.renderItem(t,o),o.mark?t.classList.add("mark"):t.classList.remove("mark")):(t.data=t.index=void 0,t.innerHTML="&nbsp;",t.ready=!1),e++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:s,currIndex:n}),this.events["select:item"]&&this.emit("select:item",{$item:t}),this.scroll&&this.scroll.scrollTo(this.provider?this.provider.head+this.provider.pos:this.viewIndex),!0}return!1},n.prototype.move=function(e){var t=this,i=!1;if(this.data.length)switch(e){case s.left:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case s.up:if(i||this.type===this.TYPE_VERTICAL)if(this.$focusItem&&this.$focusItem.index>0)this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling);else if(this.provider){if(this.provider.blocked)return;this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0===o?o:t.$focusItem.index})})}else this.cycle&&this.move(s.end),this.events["overflow"]&&this.emit("overflow",{direction:e,cycle:this.cycle});break;case s.right:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case s.down:if(i||this.type===this.TYPE_VERTICAL)if(this.$focusItem&&this.$focusItem.index<this.data.length-1)this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling);else if(this.provider){if(this.provider.blocked)return;this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0===o?o:t.$focusItem.index})})}else this.cycle&&this.move(s.home),this.events["overflow"]&&this.emit("overflow",{direction:e,cycle:this.cycle});break;case s.pageUp:if(this.provider){if(this.provider.blocked)return;return void this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0})})}this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild);break;case s.pageDown:if(this.provider){if(this.provider.blocked)return;this.provider.get(e,function(e,i,o){var s;e?t.events["data:error"]&&t.emit("data:error",e):i&&(s=o||0===o?o:i.length<t.size?i.length-1:t.size-1,t.setData({data:i,focusIndex:s}))});break}this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]);break;case s.home:if(this.provider){if(this.provider.blocked)return;this.provider.get(e,function(e,i,o){e?t.events["data:error"]&&t.emit("data:error",e):i&&t.setData({data:i,focusIndex:o||0})});break}this.renderView(0),this.focusItem(this.$body.firstChild);break;case s.end:if(this.provider){if(this.provider.blocked)return;this.provider.get(e,function(e,i,o){var s;e?t.events["data:error"]&&t.emit("data:error",e):i&&(s=o||0===o?o:i.length<t.size?i.length-1:t.size-1,t.setData({data:i,focusIndex:s}))});break}this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])}},n.prototype.focusItem=function(e){var t=this.$focusItem;return!(!e||t===e)&&(null!==t&&(t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t})),this.$focusItem=e,this.$focusItem.data=this.data[this.$focusItem.index],e.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:t,$curr:e}),this.events["select:item"]&&this.emit("select:item",{$item:e}),!0)},n.prototype.blurItem=function(e){return!!e&&(e===this.$focusItem&&(this.$focusItem=null),e.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:e}),!0)},n.prototype.focusIndex=function(e){var t=this.viewIndex||0;e>=t+this.size?(e=e<this.data.length-1?e:this.data.length-1,this.renderView(e-this.size+1),this.focusItem(this.$body.lastChild)):e<t?(e=e>0?e:0,this.renderView(e),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[e-t]))},n.prototype.markItem=function(e,t){t?e.classList.add("mark"):e.classList.remove("mark"),e.data.mark=t},e.exports=n},function(e,t,i){"use strict";var o=i(7),s=i(0);function n(e){var t=this;e=e||{},this.focusIndex=0,this.data=[],o.call(this,e),this.init(e),this.addListener("keydown",function(e){switch(e.code){case s.right:t.children.length&&t.focusIndex<t.children.length-1&&t.children[++t.focusIndex].focus();break;case s.left:t.children.length&&t.focusIndex>0&&t.children[--t.focusIndex].focus();break;case s.back:t.parent&&(t.parent.focus(),t.$parentItem&&t.parent.focusItem(t.$parentItem))}})}n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.name="mag-component-layout",n.prototype.init=function(e){for(var t,i,s,n=this,a=function(e){var t,i;for(t=0;t<e.length;t++)"object"==typeof(i=e[t])?i instanceof o||i instanceof HTMLElement?e[t]={value:i,wrap:!1}:e[t].wrap=!0:e[t]={value:e[t],wrap:!0};return e}(e.data);this.$node.firstChild;)this.$node.removeChild(this.$node.firstChild);function r(){n.focusIndex=this.index}for(this.data=a,s=0;s<a.length;s++)"string"==typeof(t=a[s]).value?((i=document.createElement("div")).textContent=t.value,t.className&&(i.className=t.className),this.$node.appendChild(i)):t.value instanceof HTMLElement?t.wrap?(i=document.createElement("div"),t.className&&(i.className=t.className),i.appendChild(t.value),this.$node.appendChild(i)):this.$node.appendChild(t.value):t.value instanceof o?(t.value.propagate=!0,t.value.index=this.children.length,t.value.addListener("click",r),t.wrap?(i=document.createElement("div"),t.className&&(i.className=t.className),i.appendChild(t.value.$node),this.$node.appendChild(i),this.children.push(t.value),t.value.parent=this):this.add(t.value)):(i=document.createElement("div"),t.className&&(i.className=t.className),this.$node.appendChild(i))},e.exports=n},function(e,t,i){"use strict";e.exports='<p class="bold">1. PERMITTED USE</p><p>1.1 Subject to these Terms, you are granted a limited, non-exclusive, non-transferable, royalty-free license to use the Application on a single device and solely for the intended purpose of the Application within its functionality as designed by the Application owners. </p><p>1.2 You may not, and you agree not to or enable others to, modify, copy (except as expressly permitted by these Terms), decrypt, decompile, reverse engineer, disassemble, attempt to derive the source code of, or create derivative works of the Application or any services provided by the Application or any part thereof (except as and only to the extent any foregoing restriction is prohibited by applicable law). </p><p>1.3 You may not rent, lease, lend, sell, redistribute, or sublicense the Application. </p><p>1.4 You shall promptly report any errors in the operation of the Application to the Application owners. You shall immediately notify the Application owners of any third party infringement on the Application owners rights in the Application of which you may become aware. </p><p>1.5 Are agree that the Application owners may from time to time download and install automatic updates of the Application.</p><p class="bold">2. CONTENT </p><p>2.1 Any content(data file, text, software, music, phonograms, audio files, photos, videos or any other form of audiovisual data) displayed by, stored on, or accessed through the Application belongs to the respective content owners. Such content may be protected by copyright or other intellectual property laws and treaties, and may be subject to terms of use of the third party providing such content. The Application may be used to reproduce content so long as such use is limited to reproduction of non-copyrighted content, content in which you own the copyright, or content you are authorized or legally permitted to reproduce. You further acknowledge that you understand that the Application owners are not responsible for examining or evaluating the content in any way, and it is your sole responsibility to abide by any applicable intellectual property and other laws and regulations. </p><p>2.2 You understand that by using the Application, you may encounter content that may be deemed offensive, indecent, or objectionable, which content may or may not be identified as having explicit language, and that the results of any search or entering of a particular URL may automatically and unintentionally generate links or references to objectionable material. Nevertheless, you agree to use the Application at your sole risk, and that the Application owners, their affiliates, agents, principals, or licensors shall have no liability to you for content that may be found to be offensive, indecent, or objectionable. </p><p class="bold">3. REPRESENTATIONS AND WARRANTIES </p><p>3.1 THERE IS NO WARRANTY FOR THE APPLICATOIN TO THE EXTENT PERMITTED BY THE APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING, THE APPLICATOIN IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE, QUALITY, PERFORMANCE OR NONINFRINGEMENT UPON THE PATENT, TRADEMARK, COPYRIGHT OR OTHER INTELLECTUAL PROPERTY RIGHTS OF ANY OTHER PARTY. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE APPLICATOIN IS WITH YOU. SHOULD THE APPLICATOIN PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL THE NECESSARY SERVICING, REPAIR OR CORRECTION. THE APPLICATOIN OWNERS MAKE NO WARRANTY THAT THE APPLICATOIN AND ALL OTHER MATERIALS RELATED THERETO WILL MEET YOUR SPECIFIC OBJECTIVES OR NEEDS OR THAT THE SAME WILL BE FREE FROM ERRORS OR BUGS. THE APPLICATOIN OWNERS MAKE NO WARRANTY THAT THERE WILL BE UNINTERRUPTED OPEATION OF THE APPLICATOIN. YOU ACKNOWLEDGE AND AGREE THAT THE FOREGOING EXCLUSIONS AND DISCLAIMERS OF WARRANTIES ARE AN INTEGRAL PART OF THESE TERMS. </p><p>3.2 IN NO EVENT WILL THE APPLICATOIN OWNERS BE LIABLE TO YOU FOR ANY DAMAGES, INCLUDING, BUT NOT LIMITED TO, ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE APPLICATOIN (INCLUDING, BUT NOT LIMITED TO, LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES INCURRED BY YOU OR THIRD PARTIES OR A FAILURE OF THE APPLICATOIN TO OPERATE WITH ANY COMPUTER PROGRAMS), EVEN IF THE APPLICATOIN OWNERS HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. </p><p>3.3 If the disclaimer of warranty and limitation of liability provided above cannot be given local legal effect according to their terms, reviewing courts or government bodies shall apply local law that most closely approximates an absolute waiver of all civil liability in connection with the Application. If there is a mandatory minimum level of liability, this mandatory minimum level shall apply taking into account the absolute waiver of all civil liability in connection with the Application. </p><p class="bold">4. TERMINATION </p><p>4.1 In the event that you (i) breach any of the terms and conditions of these Terms, or (ii) use the Application in a manner which is inconsistent with the license granted to you pursuant to these Terms, or (iii) you use the Application in a manner which is inconsistent with its functionality or intended purpose, or (iv) you attempt to assign, transfer or sublicense the Application or any portion thereof to any third party without the consent of the Application owners which may be withheld, delayed, denied or conditioned by the Application owners in their sole discretion, then the Application owners may terminate these Terms immediately upon the provision of notice to you. Upon termination of these Terms, you shall delete, uninstall and cease using the Application in any manner. </p><p class="bold">5. INJUNCTIVE RELIEF </p><p>5.1 You acknowledge and agree that an actual or threatened violation by you of these Terms will cause the Application owners immediate and irreparable harm and injury which cannot be fully compensated by an award of damages or other remedies at law. Accordingly, you acknowledge and agree that in such case, the Application owners shall be entitled, as a matter of right, to an injunction from any court of competent jurisdiction restraining any further violation by you of these Terms; such right to an injunction shall be cumulative and in addition to, but not in limitation of, any other rights that the Application owners may have at law or in equity. This section shall survive the termination of these Terms, indefinitely. </p><p class="bold">6. COLLECTION OF INFORMATION </p><p>6.1 You are hereby notified and agree that the Application owners may, for the purposes of improving performance and compatibility of the Application, providing individual support, improving the experience of the Application use, preventing or addressing security or technical issues, or as otherwise required by law, collect, process, and store unique identifiers and other user information, which comprises account information, services usage information, contact information, log data, device information, geo-locational information, third-party services integrations. </p><p>6.2 The foregoing information may be also used for marketing or advertising purposes. You can opt out of these at any time by sending a notice to sales@infomir.eu. </p><p>6.3 The Application owners receive user information from various sources, including information from: <ul><li>your requests for the Application owners services; </li><li>your transactions with the Application owners, and </li><li>nonpublic information that you provide directly to the Application owners. </li></ul></p><p>6.4 The Application owners use nonpublic information that they have about you, as described above, to give you superior products and services, provide convenient access to products and services, and make a wider range of services available to you. The Application owners furnish your nonpublic information to their service providers and generically to serve the function of what the Application owners do. However, the Application owners do not disclose your specific nonpublic information to other third parties, except as otherwise described in these Terms. </p><p>6.5 The Application owners may disclose your nonpublic information as permitted by law. For example, the Application owners may share nonpublic information with regulatory authorities and law enforcement officials who have jurisdiction over the Application owners or if the Application owners are required to do so by United States or other applicable law; provide nonpublic information to others to protect against fraud; and share nonpublic information with others with your consent. The Application owners also may share nonpublic information with firms they hire to market their services or with non-affiliated companies with whom the Application owners have joint marketing agreements to provide you with offers of their services. These companies may receive user information, but they are restricted in its use and they are required to comply with all applicable federal, state and local laws. </p><p>6.6 When the Application owners share nonpublic information with companies working on the Application owners behalf, the Application owners insist that such companies use the nonpublic information only to provide the service that the Application owners have asked them to perform. Within the Application owners, user information is available only to those individuals who may need to see it to fulfill and service the needs of their customers or the general function of the Application owners. The Application owners communicate regarding the need to protect nonpublic information to all employees and agents, especially to those individuals who have access to it. In addition, the Application owners have established and maintain physical, electronic, and procedural safeguards to protect nonpublic information. </p><p class="bold">7. NO LIABILITY FOR THIRD PARTY CLAIMS </p><p>7.1 The Application owners shall not be liable for claims made against the Application owners or you arising out of your use of the Application and any materials related thereto and you hereby agree to indemnify, defend and hold the Application owners and its members, officers, directors, shareholders, employees, agents and affiliates harmless from and against any and all claims of every nature or type, that may be brought or asserted against the Application owners or any of the Application owners members, officers, directors, shareholders, employees, agents and their affiliates by any other party arising out of (i) your use of the Application and/or any materials related thereto, or (ii) your breach of your obligations, duties and responsibilities under these Terms, or (iii) any breach or default under any representations, warranties, guaranties or other written or oral statements made by or on behalf of you or any person under your control, including, without limitation, your agents. </p><p class="bold">8. NOTICES </p><p>8.1 You consent to receive notices that may be required or desirable to give under these Terms or in connection with it electronically by email or through the Application; in the latter case a notice will be displayed within the Application interface. Alternatively, the Application owners may notify you by placing a notice on the website http://www.infomir.eu/. You agree that any such notices that the Application owners send you electronically or place on the website will satisfy any legal communication requirements. Any notice required to be given to the Application owners under these Terms or in connection with it, shall be given to the following email address: sales@infomir.eu. Any notification given under or in connection with these Terms shall be made in English. </p><p class="bold">9. GOVERNING LAW. JURISDICTION </p><p>9.1 These Terms shall be governed and construed in accordance with the laws of the State of New York, without regard to the conflict of law principles thereof. In the event of a dispute arising under these Terms, the Supreme Court of the State of New York venued in Kings County and the United States District Court for the Eastern District of New York venued in Kings County shall have co-exclusive jurisdiction to resolve such a dispute. These Terms shall not be governed by the United Nations Convention on Contracts for the International Sale of Goods, the application of which is expressly excluded. </p><p class="bold">10. NO ASSIGNMENT </p><p>10.1 Neither these Terms nor any interest in these Terms may be assigned or sublicensed by you without the prior express written approval of the Application owners, and any attempt by you to assign or sublicense these Terms or any interest herein without the prior express written approval of the Application owners shall be null, void and of no force and effect. </p><p class="bold">11. ENTIRE AGREEMENT. MODIFICATION </p><p>11.1 These Terms constitute the entire agreement between the parties hereto and terminate and supersede all prior understandings or agreements on the subject matter hereof. These Terms may be modified by the Application owners at any time by providing to you a notice to this effect. Any further use of the Application will be subject to such modified Terms, and in case you do not accept these modified Terms, you will not be able to continue the use of the Application. </p><p class="bold">12. SEVERABILITY </p><p>12.1 If any provision of these Terms is found by a court of competent jurisdiction or other valid tribunal to be invalid or otherwise unenforceable, the invalid or unenforceable provision shall be deemed amended to remove such provision, and the remaining Terms will be construed to give maximum effect to the intention of the parties; in this event the Application owners shall also have the right to terminate these Terms immediately upon the provision of notice to you. </p><p class="bold">13. SURVIVAL. NO WAIVER </p><p>13.1 Sections 3, 7, 8, 9 shall survive any termination or expiration of these Terms. </p><p>13.2 No partys waiver of any breach or accommodation to the other party shall be deemed to be a waiver of any subsequent breach by a party. </p><p class="bold">14. HEADINGS. INTERPRETATIONS </p><p>14.1 Headings used in these Terms are provided for convenience only and shall not be used to construe meaning or intent. Except as otherwise provided herein, words used herein, regardless of the number and gender specifically used, shall be deemed and construed to include any other member, singular or plural, and any other gender, masculine, feminine or neuter, as the context indicates as appropriate. </p>'},function(e,t,i){"use strict";var o=top.gSTB,s=function(){var e,t=0;for(e in o)o.hasOwnProperty(e)&&++t;return t}(),n=o.GetDeviceModelExt(),a=o.GetDeviceMacAddress(),r=o.GetDeviceSerialNumber(),c=o.Version(),l={method:"GET",async:!0,headers:{},data:null,timeout:3e4,type:"text",onload:function(){},onerror:function(){},ontimeout:null},d=Object.keys(l),h=[],u=!1,p={host:null,authHost:null,lang:"en",session:{accessToken:null,refreshToken:null,userId:null,macAlgorithm:null,macKey:null},auth:{login:function(e,t){var i,l,d=Math.random().toString(36).substring(2),h=fetch(),u=Math.random().toString(36).substring(2),m=Math.round(Date.now()/1e3),f=o.GetHashVersion1(u,m),v=f+"."+u+"."+m,y=o.GetUID(),g=[];if("false"!==f){switch(n){case"AuraHD4":case"MAG322":case"MAG324":if(y=o.GetUID("device_id","1729452065727304",3),d=d+"."+(i=o.GetUID("device_id",d,5)),y.length>0&&i.length>0)break;default:y=o.GetUID(),d=(i=o.GetUID("device_id",d))?d+"."+i:""}l={grant_type:"password",client_type:"STB",username:e.login,password:e.password,mac:a,serial_number:r,stb_type:n,model:n,device_id:y,device_id2:d,version:c,hw_version:v,api_signature:s},Object.keys(l).forEach(function(e){g.push(e+"="+encodeURIComponent(l[e]))}),h.open("POST",p.authHost,!0),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.timeout=1e4,h.onload=function(){var e;if(200===this.status){try{e=JSON.parse(this.responseText)}catch(t){e={}}e.access_token&&e.user_id?(p.session.accessToken=e.access_token,p.session.refreshToken=e.refresh_token,p.session.userId=e.user_id,e.mac_algorithm&&(p.session.macAlgorithm=e.mac_algorithm),e.mac_key&&(p.session.macKey=e.api.mac_key,p.session.macAlgorithm=e.api.mac_algorithm),e.api&&e.api.v3&&(p.session.macKey=e.api.v3.mac_key,p.session.macAlgorithm=e.api.v3.mac_algorithm),p.saveCallback&&p.saveCallback(),t(!1)):t(e,e)}else t(this.status+" : "+this.responseText,{})},h.ontimeout=function(){t("onerror "+this.status+" : "+this.responseText,!1)},h.onerror=function(){t("onerror "+this.status+" : "+this.responseText,!1)},h.send(g.join("&"))}else setTimeout(function(){p.auth.login(e,t)},5e3)},refreshToken:function(e,t){var i,r=fetch(),c=Math.random().toString(36).substring(2),l=Math.round(Date.now()/1e3),d=o.GetHashVersion1(c,l),h=[];"false"!==d?(i={grant_type:"refresh_token",refresh_token:e,hw_version:d+"."+c+"."+l,model:n,mac:a,client_type:"STB",api_signature:s},Object.keys(i).forEach(function(e){h.push(e+"="+encodeURIComponent(i[e]))}),r.open("POST",p.authHost,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){var e;if(200===this.status){try{e=JSON.parse(this.responseText)}catch(t){e={}}e.access_token&&e.user_id?(p.session.accessToken=e.access_token,p.session.refreshToken=e.refresh_token,p.session.userId=e.user_id,e.mac_algorithm&&(p.session.macAlgorithm=e.mac_algorithm),e.mac_key&&(p.session.macKey=e.api.mac_key,p.session.macAlgorithm=e.api.mac_algorithm),e.api&&e.api.v3&&(p.session.macKey=e.api.v3.mac_key,p.session.macAlgorithm=e.api.v3.mac_algorithm),p.saveCallback&&p.saveCallback(),t(!1)):t(e,e)}else t(this.status+" : "+this.responseText,{})},r.onerror=function(){t(!0,{})},r.send(h.join("&"))):setTimeout(function(){p.auth.refreshToken(e,t)},5e3)}},request:function(e,t){var i,s,n=fetch(),a=o.GetLanLinkStatus(),r=o.GetWifiLinkStatus(),c="Model: "+o.GetDeviceModelExt()+"; Link: ";if(u)h.push({url:e,options:t});else if(u=!0,t=t||{},e&&("string"==typeof e||e instanceof String)&&e.length>0){if(t&&"object"==typeof t)for(i=0;i<d.length;i++)void 0===t[d[i]]&&(t[d[i]]=l[d[i]]);if((n=fetch()).open(t.method,p.host+"/"+e,t.async),n.setRequestHeader("Authorization","Bearer "+p.session.accessToken),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Accept-Language",p.lang),n.setRequestHeader("X-User-Agent",c+(a&&r?"Ethernet,WiFi":r?"WiFi":a?"Ethernet":"")),t.headers&&"object"==typeof t.headers)for(s=Object.keys(t.headers),i=0;i<s.length;i++)n.setRequestHeader(s[i],t.headers[s[i]]);return n.responseType=t.type,n.timeout=t.timeout,n.onreadystatechange=function(){var i=!1;if(0===this.readyState)u=!1,h.length>0&&(i=h.shift(),p.request(i.url,i.options));else if(4===this.readyState){try{i=JSON.parse(this.responseText)}catch(e){i=!1}if(0===this.status)u=!1,h.length>0&&(i=h.shift(),p.request(i.url,i.options));else if(200===this.status){try{t.onload(!i,i)}catch(e){if(p.onfail&&p.onfail("Exception thrown "+e.message,e),t.onerror)try{t.onerror.call(n,e)}catch(e){}}u=!1,h.length>0&&(i=h.shift(),p.request(i.url,i.options))}else if(401===this.status)p.session.refreshToken?p.auth.refreshToken(p.session.refreshToken,function(i){i?p.auth.login({password:"",login:""},function(i,o){i?"invalid_grant"===i.error?p.oncredenitalsrequired(function(){u=!1,p.request(e,t)}):"access_denied"===i.error&&"Account disabled"===i.error_description?p.oncredenitalsrequired(function(){},{error:i}):(u=!1,p.request(e,t)):(u=!1,p.request(e,t))}):(u=!1,p.request(e,t))}):p.auth.login({password:"",login:""},function(i,o){i?"invalid_grant"===i.error?p.oncredenitalsrequired(function(){u=!1,p.request(e,t)}):"access_denied"===i.error&&"Account disabled"===i.error_description?(p.reload(),p.oncredenitalsrequired(function(){},{error:i})):(u=!1,p.request(e,t)):(u=!1,p.request(e,t))});else if(i&&"access_denied"===i.error&&"Account disabled"===i.error_description)p.oncredenitalsrequired(function(){},{error:i.error}),u=!0;else{u=!1;try{t.onload(this.status,this.responseText)}catch(e){if(t.onerror)try{t.onerror.call(n,e)}catch(e){}}h.length>0&&(i=h.shift(),p.request(i.url,i.options))}}},n.onerror=function(){if(t.onerror)try{t.onerror.call(n)}catch(e){}p.onfail&&p.onfail("Network error "+n.status)},n.ontimeout=function(){if(t.ontimeout)try{t.ontimeout.call(n)}catch(e){}},n.send(t.body||null),n}}};e.exports=p}]);
//# sourceMappingURL=main.js.map